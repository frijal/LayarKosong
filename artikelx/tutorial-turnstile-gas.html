<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cara Pasang Cloudflare Turnstile dan Google Apps Script untuk Form Blog Statis (website)</title>

    <link rel="canonical" href="https://dalam.web.id/artikel/tutorial-turnstile-gas.html">
    <meta name="description" content="Tutorial lengkap memasang Cloudflare Turnstile dan Google Apps Script untuk form di blog statis. Jaga inbox Gmail dari spam bot dengan solusi gratis dan powerful ini di website!">
    <meta name="keywords" content="Cloudflare Turnstile, Google Apps Script, Blog Statis, Form Anti Spam, Tutorial Web, website, Frontend, Backendless, JavaScript, HTML, CSS, Optimasi Website">
    <meta name="news_keywords" content="cloudflare turnstile, google apps script, form blog statis, tutorial, anti spam, layar kosong">

    <meta property="og:title" content="Cara Pasang Cloudflare Turnstile dan Google Apps Script untuk Form Blog Statis (website)">
    <meta property="og:description" content="Tutorial lengkap memasang Cloudflare Turnstile dan Google Apps Script untuk form di blog statis. Jaga inbox Gmail dari spam bot dengan solusi gratis dan powerful ini di website!">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://dalam.web.id/artikel/tutorial-turnstile-gas.html">
    <meta property="og:image" content="https://pbs.twimg.com/media/G97IeipbAAAzTez.jpg">
    <meta property="og:site_name" content="website">
    <meta property="article:published_time" content="2026-01-06T10:00:00+07:00"> <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Cara Pasang Cloudflare Turnstile dan Google Apps Script untuk Form Blog Statis (website)">
    <meta name="twitter:description" content="Tutorial lengkap memasang Cloudflare Turnstile dan Google Apps Script untuk form di blog statis. Jaga inbox Gmail dari spam bot dengan solusi gratis dan powerful ini di website!">
    <meta name="twitter:image" content="https://pbs.twimg.com/media/G97IeipbAAAzTez.jpg">
    <meta name="twitter:creator" content="@namatwitterkamu"> <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKx3KxVjsi6d/1N+xP" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --background-color: #ffffff;
            --text-color: #333333;
            --link-color: #007bff;
            --link-hover-color: #0056b3;
            --header-bg: #f8f9fa;
            --border-color: #e0e0e0;
            --code-bg: #f0f0f0;
            --code-text: #c7254e;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --blockquote-border: #ccc;
            --blockquote-text: #666;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --background-color: #1a1a1a;
                --text-color: #e0e0e0;
                --link-color: #8ab4f8;
                --link-hover-color: #a7c7fd;
                --header-bg: #2d2d2d;
                --border-color: #3a3a3a;
                --code-bg: #2b2b2b;
                --code-text: #e06c75;
                --shadow-color: rgba(255, 255, 255, 0.08);
                --blockquote-border: #555;
                --blockquote-text: #b0b0b0;
            }
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px; /* Lebar maksimal konten */
            margin: 20px auto;
            padding: 20px;
            background-color: var(--background-color);
            box-shadow: 0 4px 15px var(--shadow-color);
            border-radius: 8px;
            flex-grow: 1; /* Agar konten mengisi sisa ruang */
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--text-color);
            margin-top: 1.5em;
            margin-bottom: 0.8em;
            line-height: 1.2;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
        }

        a:hover {
            color: var(--link-hover-color);
            text-decoration: underline;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 2px 10px var(--shadow-color);
        }

        p {
            margin-bottom: 1em;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 1em;
        }

        code {
            font-family: 'Fira Code', 'Cascadia Code', 'Consolas', monospace;
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 3px 6px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        pre {
            background-color: var(--code-bg);
            color: var(--text-color);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 1.5em;
            font-size: 0.9em;
            line-height: 1.4;
        }

        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            border-radius: 0;
        }

        blockquote {
            border-left: 5px solid var(--blockquote-border);
            margin: 1.5em 0;
            padding: 10px 20px;
            background-color: var(--code-bg);
            color: var(--blockquote-text);
            border-radius: 4px;
        }

        /* Header (Optional, tapi bagus biar ada logo website) */
        header {
            background-color: var(--header-bg);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px var(--shadow-color);
        }
        .logo {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--text-color);
            text-decoration: none;
        }
        .logo i {
            margin-right: 8px;
            color: #00b0ed; /* Warna khas website */
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid var(--border-color);
            color: var(--text-color);
            font-size: 0.9em;
            background-color: var(--header-bg);
        }
        footer a {
            color: var(--link-color);
        }

        /* Komentar & Related Articles */
        #pesbukdiskus, #related-articles-grid {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }

        /* Responsif */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 15px;
                box-shadow: none; /* Hilangkan shadow di mobile */
            }
            h1 {
                font-size: 1.8em;
            }
            h2 {
                font-size: 1.4em;
            }
        }
    </style>
</head>
<body>
    <header>
    </header>

    <div class="container">
        <h1>Cara Pasang Cloudflare Turnstile dan Google Apps Script untuk Form Blog Statis (website)</h1>
        <p>
            üëã Kali ini, aku mau berbagi cara tentang bagaimana aku berhasil mengimplementasikan sistem form anti-spam yang super efisien dan gratis di blog statis ini. Kalau kamu punya blog (khususnya yang statis seperti Jekyll, Hugo, atau bahkan HTML murni) dan pusing dengan email spam dari form kontak, artikel ini cocok banget buat kamu!
        </p>
        <p>
            Dulu, aku juga sempat bingung. Blog statis itu keren karena cepat dan aman, tapi gimana caranya agar form kontak atau form request untuk hapus data bisa berfungsi tanpa butuh server *backend* yang ribet? Nah, solusinya ada pada kombinasi dua teknologi gratisan yang powerful: <strong>Cloudflare Turnstile</strong> untuk anti-spamnya, dan <strong>Google Apps Script</strong> sebagai "server mini" untuk memproses data dan mengirim email. Yuk, kita mulai petualangannya! üöÄ
        </p>

        <img src="https://pbs.twimg.com/media/G97IeipbAAAzTez.jpg" alt="Ilustrasi Cloudflare Turnstile dan Google Apps Script">
        <em>Gambar: Ilustrasi bagaimana Cloudflare Turnstile menjaga form Anda dan Google Apps Script memprosesnya.</em>

        <h2>Mengapa Kombinasi ini Ideal untuk Blog Statis? ü§î</h2>
        <p>
            Sebelum kita nyebur ke kodenya, mari kita pahami dulu kenapa duo ini jadi pilihan terbaik:
        </p>
        <ul>
            <li><strong>Anti-Spam Canggih:</strong> Cloudflare Turnstile adalah alternatif reCAPTCHA yang lebih ramah privasi dan cerdas dalam membedakan manusia vs. bot tanpa perlu challenge yang menyebalkan.</li>
            <li><strong>Backend-less:</strong> Google Apps Script (GAS) memungkinkan kamu menulis kode JavaScript yang berjalan di server Google, berfungsi layaknya *backend* mini. Ini artinya, kamu nggak perlu sewa hosting khusus server untuk email!</li>
            <li><strong>Gratis Tis Tis!</strong> üéâ Kedua layanan ini bisa kamu gunakan secara gratis dengan limitasi yang sangat generous, lebih dari cukup untuk blog pribadi atau UMKM.</li>
            <li><strong>Mudah Diimplementasi:</strong> Integrasinya relatif sederhana, bahkan untuk pemula sekalipun.</li>
            <li><strong>Skalabilitas:</strong> Karena didukung infrastruktur Google dan Cloudflare, solusi ini sangat skalabel dan bisa menangani banyak request.</li>
        </ul>

        <h2>Langkah 1: Mengatur Cloudflare Turnstile (Anti-Spam Gardu Depan) üõ°Ô∏è</h2>
        <p>
            Pertama-tama, kita akan mendaftarkan form kita ke Cloudflare Turnstile. Ini adalah penjaga gerbang utama yang akan menyaring request dari bot.
        </p>
        <h3>1. Daftar dan Buat Site di Cloudflare Turnstile</h3>
        <ol>
            <li>Kunjungi <a href="https://dash.cloudflare.com/?to=/:account/turnstile" target="_blank" rel="noopener noreferrer">Dashboard Cloudflare Turnstile</a>.</li>
            <li>Login atau daftar jika belum punya akun.</li>
            <li>Klik tombol **"Add site"** atau **"Add a site"**.</li>
            <li>
                Isi detailnya:<br>
                <ul>
                    <li><strong>Site name:</strong> Contoh: `website Form Request`</li>
                    <li><strong>Domain:</strong> `dalam.web.id` (masukkan domain blog kamu).</li>
                    <li><strong>Widget type:</strong> Pilih `Managed`. Ini adalah pilihan terbaik karena Turnstile akan otomatis memilih mode terbaik (silent, interactive challenge) berdasarkan tingkat ancaman.</li>
                </ul>
            </li>
            <li>Setelah itu, kamu akan mendapatkan **Site Key** dan **Secret Key**. Simpan baik-baik kedua kunci ini! Kita akan pakai keduanya.</li>
        </ol>

        <h3>2. Tambahkan Widget ke HTML Form Kamu</h3>
        <p>
            Sekarang, buka file HTML form kamu (misal `hapus-data.html`). Tambahkan script Turnstile di dalam tag `<head>` atau tepat sebelum tag penutup `</body>`:
        </p>
        <pre><code>&lt;script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer&gt;&lt;/script&gt;</code></pre>
        <p>
            Kemudian, letakkan `div` Turnstile ini di dalam tag `<form>`, biasanya tepat di atas tombol submit:
        </p>
        <pre><code>&lt;div class="cf-turnstile" data-sitekey="SITE_KEY_KAMU" data-callback="onSuccess"&gt;&lt;/div&gt;</code></pre>
        <blockquote>
            <p>
                <strong>PENTING:</strong> Ganti <code>SITE_KEY_KAMU</code> dengan Site Key yang kamu dapat dari Cloudflare Turnstile tadi! Atribut <code>data-callback="onSuccess"</code> akan memanggil fungsi JavaScript <code>onSuccess()</code> ketika Turnstile sukses diverifikasi.
            </p>
        </blockquote>

        <h2>Langkah 2: Mengatur Google Apps Script (Server Mini Pengirim Email) üìß</h2>
        <p>
            Ini adalah bagian yang membuat form kamu bisa "berbicara" dan mengirim data ke email kamu tanpa perlu server PHP atau Node.js yang ribet.
        </p>
        <h3>1. Buat Project Google Apps Script Baru</h3>
        <ol>
            <li>Buka <a href="https://script.google.com/home" target="_blank" rel="noopener noreferrer">Google Apps Script</a>.</li>
            <li>Klik **"New project"** atau **"Proyek baru"**.</li>
            <li>Hapus semua kode `function myFunction() {}` yang ada di `Kode.gs`.</li>
            <li>Copy-paste kode JavaScript di bawah ini ke editor kamu:</li>
        </ol>
        <pre><code>function doPost(e) {
  // 1. Cek apakah ada data yang masuk
  if (!e || !e.parameter) {
    return ContentService.createTextOutput("No data received").setMimeType(ContentService.MimeType.TEXT);
  }

  var data = e.parameter;
  var secretKey = "SECRET_KEY_DARI_CLOUDFLARE_TURNSTILE"; // &lt;-- GANTI DENGAN SECRET KEY KAMU!
  var token = data['cf-turnstile-response'];

  // 2. Verifikasi ke Cloudflare Turnstile
  var verificationUrl = "https://challenges.cloudflare.com/turnstile/v0/siteverify";
  var options = {
    'method' : 'post',
    'payload' : {
      'secret': secretKey,
      'response': token
    }
  };

  try {
    var response = UrlFetchApp.fetch(verificationUrl, options);
    var result = JSON.parse(response.getContentText());

    if (result.success) {
      // 3. JIKA LOLOS VERIFIKASI, KIRIM EMAIL
      var body = "Ada permintaan hapus data baru (Cloudflare Turnstile Verified):\n\n" +
                 "Nama: " + (data.nama_tampilan || '-') + "\n" +
                 "Email: " + (data._replyto || '-') + "\n" +
                 "URL/ID: " + (data.url_atau_id || '-') + "\n" +
                 "Jenis: " + (data.jenis_data || '-') + "\n" +
                 "Ket: " + (data.keterangan || '-') + "\n\n" +
                 "Sent via Google Apps Script";

      MailApp.sendEmail({
        to: "contoh-email@namadomain.com", // &lt;-- GANTI DENGAN ALAMAT EMAIL TUJUAN KAMU!
        subject: "üóëÔ∏è [website] Hapus Data: " + (data.nama_tampilan || 'Anonim'),
        replyTo: data._replyto || "contoh-email@namadomain.com", // &lt;-- GANTI DENGAN ALAMAT EMAIL TUJUAN KAMU!
        body: body
      });

      return ContentService.createTextOutput(JSON.stringify({ "success": true }))
                           .setMimeType(ContentService.MimeType.JSON);
    } else {
      // Gagal verifikasi Turnstile
      return ContentService.createTextOutput(JSON.stringify({ "success": false, "error": "Invalid Captcha" }))
                           .setMimeType(ContentService.MimeType.JSON);
    }

  } catch (err) {
    // Tangkap error jika ada masalah di MailApp atau UrlFetch
    return ContentService.createTextOutput(JSON.stringify({ "success": false, "error": err.toString() }))
                         .setMimeType(ContentService.MimeType.JSON);
  }
}</code></pre>
        <blockquote>
            <p>
                <strong>PENTING:</strong> Jangan lupa ganti <code>SECRET_KEY_DARI_CLOUDFLARE_TURNSTILE</code> dengan Secret Key dari Cloudflare Turnstile kamu, dan ganti <code>contoh-email@namadomain.com</code> dengan alamat email tujuan kamu!
            </p>
        </blockquote>

        <h3>2. Deploy Google Apps Script sebagai Web App</h3>
        <p>
            Langkah ini adalah yang paling krusial untuk mendapatkan URL script yang bisa diakses dari blog kamu.
        </p>
        <ol>
            <li>Di pojok kanan atas editor Google Apps Script, klik tombol **"Deploy"** (ikon roket üöÄ).</li>
            <li>Pilih **"New deployment"**.</li>
            <li>Klik ikon **Gerigi** (<i class="fas fa-cog"></i>) di samping "Select type", lalu pilih **"Web app"**.</li>
            <li>
                Atur pengaturannya:<br>
                <ul>
                    <li><strong>Description:</strong> Isi bebas, misal "Form Deletion website".</li>
                    <li><strong>Execute as:</strong> Pilih **"Me"** (alamat email Google kamu). Ini penting agar script punya izin mengirim email atas nama kamu.</li>
                    <li><strong>Who has access:</strong> Pilih **"Anyone"**. Ini wajib agar form di blog bisa mengirim data ke script ini.</li>
                </ul>
            </li>
            <li>Klik **"Deploy"**.</li>
            <li>Jika Google meminta otorisasi (biasanya pop-up): Ikuti langkah-langkahnya, pilih akun Google kamu, lalu izinkan akses. Mungkin ada peringatan "Google hasn't verified this app" ‚Äì klik saja **"Advanced"** lalu **"Go to [Nama Proyek Kamu] (unsafe)"**. Ini aman karena ini script buatan kamu sendiri.</li>
            <li>Setelah berhasil, kamu akan mendapatkan **"Web app URL"** yang panjang (contoh: <code>https://script.google.com/macros/s/AKfycb.../exec</code>). **SIMPAN URL INI BAIK-BAIK!**</li>
        </ol>

        <h2>Langkah 3: Mengintegrasikan ke JavaScript di Blog Kamu üß©</h2>
        <p>
            Sekarang, kita akan menyatukan semua elemen: form HTML, Turnstile, dan Google Apps Script menggunakan JavaScript.
        </p>
        <p>
            Buka kembali file JavaScript kamu (atau bagian <code>&lt;script&gt;</code> di HTML form kamu). Ganti seluruh kode JS yang berhubungan dengan pengiriman form dengan kode di bawah ini:
        </p>
        <pre><code>&lt;script&gt;
  const form = document.getElementById('deletion-form');
  const btn = document.getElementById('submit-btn');
  const successMsg = document.getElementById('success'); // Pastikan ada elemen &lt;div id="success"&gt; untuk pesan sukses

  // --- CALLBACK TURNSTILE ---
  // Fungsi ini otomatis dipanggil saat Cloudflare Turnstile sukses terverifikasi
  function onSuccess(token) {
    console.log("Turnstile Verified! Token:", token);
    const currentLang = localStorage.getItem('lang') || 'id';

    // Memberi feedback visual pada tombol setelah verifikasi sukses
    btn.style.boxShadow = "0 0 15px rgba(0, 176, 237, 0.5)";
    btn.style.borderColor = "#00b0ed";
    btn.textContent = (currentLang === 'en' ? 'Submit Request' : 'Kirim Permintaan'); // Pastikan tombol kembali ke teks normal
    btn.disabled = false; // Aktifkan lagi tombol setelah verifikasi (opsional, bisa juga tetap disabled sampai diklik)
  }

  // --- LOGIKA KIRIM FORM ---
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const currentLang = localStorage.getItem('lang') || 'id';

    // Ambil token Turnstile
    const turnstileResponse = turnstile.getResponse();
    if (!turnstileResponse) {
      alert(currentLang === 'en' ? 'Please complete the security check!' : 'Silakan selesaikan pengecekan keamanan!');
      return; // Hentikan pengiriman jika Turnstile belum diisi
    }

    // Ubah status tombol menjadi loading
    btn.disabled = true;
    btn.textContent = (currentLang === 'en' ? 'Sending...' : 'Mengirim...');

    const formData = new URLSearchParams(new FormData(form));
    formData.append('cf-turnstile-response', turnstileResponse); // Tambahkan token Turnstile ke data form

    try {
      // &lt;-- GANTI DENGAN WEB APP URL DARI GOOGLE APPS SCRIPT KAMU!
      const scriptURL = 'https://script.google.com/macros/s/AKfycbwwEtyD9E-HkBRoLsPCXwrCbUNbUp7jrycMRvWt3vOmNMIF8hkS7BbZX4tyUQPlsEsj/exec';

      await fetch(scriptURL, {
        method: 'POST',
        mode: 'no-cors', // Penting untuk Google Apps Script
        body: formData
      });

      // Jika sukses, sembunyikan form dan tampilkan pesan sukses
      form.style.display = 'none';
      successMsg.style.display = 'block';
      window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll ke atas

    } catch (err) {
      console.error("Submission error:", err);
      alert(currentLang === 'en' ? "Failed to send request. Please try again." : "Gagal mengirim permintaan. Silakan coba lagi.");

      // Kembalikan status tombol dan reset Turnstile
      btn.disabled = false;
      btn.textContent = (currentLang === 'en' ? btn.dataset.en : btn.dataset.id);
      if (typeof turnstile !== 'undefined') turnstile.reset(); // Reset Turnstile jika ada error
    }
  });
&lt;/script&gt;</code></pre>
        <blockquote>
            <p>
                <strong>PENTING:</strong> Ganti <code>https://script.google.com/macros/s/KEH9ZnFHjlZ7S1Euk5KYAtyBxbujHRjJFjDys0edEu95YakbpQ/exec</code> dengan **Web App URL** yang kamu dapat dari Google Apps Script tadi!
            </p>
        </blockquote>

        <h2>Pengujian Akhir & Debugging üß™</h2>
        <p>
            Setelah semua kode terpasang, jangan langsung gembira dulu. Ada beberapa hal yang perlu kamu pastikan:
        </p>
        <ol>
            <li><strong>Tes Izin Google Script:</strong> Di editor Google Apps Script, buat fungsi singkat `function testMail() { MailApp.sendEmail("contoh-email@namadomain.com", "Test Email", "Ini email testing dari GAS."); }` lalu jalankan (`Run`). Jika Google meminta izin, pastikan kamu memberikannya. Kalau email tesnya masuk, berarti Google Script sudah bisa kirim email.</li>
            <li><strong>Cek Console Browser:</strong> Buka blog kamu, buka Developer Tools (F12), dan cek tab "Console". Apakah ada error JavaScript?</li>
            <li><strong>Isi Form dan Kirim:</strong> Coba isi form kamu, biarkan Turnstile selesai mengecek, lalu klik kirim. Apakah email masuk ke inbox kamu?</li>
            <li><strong>Coba Ganti Bahasa:</strong> Pastikan tombol dan teks lain berubah sesuai pilihan bahasa.</li>
        </ol>
        <p>
            Jika ada masalah, coba cek kembali setiap langkah dan pastikan semua `SECRET_KEY`, `SITE_KEY`, dan `Web App URL` sudah benar dan tidak tertukar.
        </p>

        <h2>Penutup üëã</h2>
        <p>
            Selamat! Kamu sudah berhasil mengimplementasikan sistem form anti-spam yang modern dan efisien di blog statis kamu. Tidak hanya aman dari bot, tapi juga memberikan pengalaman yang lebih baik bagi pengunjung karena tidak perlu lagi direpotkan dengan CAPTCHA klasik. Ini adalah bukti bahwa blog statis tidak kalah canggih dan bisa dioptimasi dengan solusi kreatif.
        </p>
        <p>
            Semoga tutorial ini bermanfaat dan membuat blog website kamu makin keren. Kalau ada pertanyaan atau butuh bantuan, jangan sungkan tinggalkan komentar di bawah ya! Sampai jumpa di artikel berikutnya! ‚ú®
        </p>

        <div id="pesbukdiskus"></div>        <div id="related-articles-grid"></div>

    </div>

    <footer>
        <p>&copy; 2026<a href="https://dalam.web.id/">website</a>. Semua hak cipta terserah kamu.</p>
    </footer>
    </body>
</html>
