<!doctype html><html lang=id prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><meta charset=utf-8><meta content="width=device-width,initial-scale=1,viewport-fit=cover" name=viewport><title>Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†</title><meta content="Workflow GitHub Actions otomatis untuk membersihkan gambar orphan, menghitung jumlah artikel dan cover WebP, serta membuat laporan konten harian di GitHub Pages." name=description><meta content="GitHub Actions, Workflow Otomatis, dalam.web.id, WebP, laporan harian, automation, YAML" name=keywords><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://dalam.web.id#website","url":"https://dalam.web.id","name":"Layar Kosong","publisher":{"@type":"Organization","@id":"https://dalam.web.id#organization","name":"Layar Kosong","url":"https://dalam.web.id","logo":{"@type":"ImageObject","url":"https://dalam.web.id/logo.png","width":384,"height":384}}},{"@type":"Article","@id":"https://dalam.web.id/warta-tekno/pengecekan-dan-laporan-konten-harian#article","isPartOf":{"@id":"https://dalam.web.id#website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dalam.web.id/warta-tekno/pengecekan-dan-laporan-konten-harian"},"license":"https://creativecommons.org/publicdomain/zero/1.0/","headline":"Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†","description":"Workflow GitHub Actions otomatis untuk membersihkan gambar orphan, menghitung jumlah artikel dan cover WebP, serta membuat laporan konten harian di GitHub Pages.","articleSection":"Warta Tekno","keywords":"actions, github, harian, konten, laporan, layar kosong, otomasi, pengecekan, warta tekno","image":{"@type":"ImageObject","url":"https://dalam.web.id/img/pengecekan-dan-laporan-konten-harian.webp","width":1200,"height":675},"author":{"@type":"Person","name":"Fakhrul Rijal","url":"https://dalam.web.id/about"},"publisher":{"@id":"https://dalam.web.id#organization"},"datePublished":"2025-10-22T11:53:56.642+00:00","dateModified":"2025-10-22T11:53:56.642+00:00"},{"@type":"BreadcrumbList","@id":"https://dalam.web.id/warta-tekno/pengecekan-dan-laporan-konten-harian#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Beranda","item":"https://dalam.web.id"},{"@type":"ListItem","position":2,"name":"Warta Tekno","item":"https://dalam.web.id/warta-tekno"},{"@type":"ListItem","position":3,"name":"Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†","item":"https://dalam.web.id/warta-tekno/pengecekan-dan-laporan-konten-harian"}]}]}</script><style>:root{--bg:#f7f9fc;--text:#1e1e1e;--accent:#0078ff;--card:#ffffff;--shadow:rgba(0,0,0,0.08);--radius:16px}body{margin:0;font-family:"Segoe UI",Roboto,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}header{background:var(--card);box-shadow:0 2px 8px var(--shadow);padding:1.4rem 2rem;position:sticky;top:0;z-index:10}header h1{font-size:1.8rem;margin:0;display:flex;align-items:center;gap:.5rem}main{max-width:1100px;margin:2rem auto;padding:2rem;background:var(--card);border-radius:var(--radius);box-shadow:0 4px 12px var(--shadow)}h2{color:var(--accent);border-bottom:2px solid var(--accent);padding-bottom:.3rem;margin-top:2.2rem}pre{background:#f4f4f4;padding:1rem;border-radius:10px;overflow-x:auto;font-size:.9rem;border:1px solid #e0e0e0}code{color:#c7254e;background:#f9f2f4;padding:2px 4px;border-radius:4px}.flowchart{display:flex;justify-content:center;flex-wrap:wrap;gap:1rem;margin:2rem 0}.node{background:var(--accent);color:#fff;padding:1rem 1.5rem;border-radius:var(--radius);box-shadow:0 3px 8px var(--shadow);text-align:center;min-width:160px;transition:transform .2s}.node:hover{transform:scale(1.05)}.arrow{width:40px;height:40px;align-self:center}.social-share{display:flex;gap:1rem;justify-content:center;margin-top:2rem}.social-share a{width:42px;height:42px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--accent);transition:background .3s}.social-share a:hover{background:#005fc7}.social-share img{width:22px;filter:invert(1)}footer{text-align:center;padding:2rem 1rem;color:#666;font-size:.9rem}@media (max-width:768px){main{margin:1rem;padding:1rem}.flowchart{flex-direction:column;align-items:center}.arrow{transform:rotate(90deg)}}</style><link href=/ext/marquee-url.css rel=stylesheet><link href=https://dalam.web.id/rss.xml rel=alternate title="30 artikel baru bikin." type=application/rss+xml><meta content="Workflow GitHub Actions otomatis untuk membersihkan gambar orphan, menghitung jumlah artikel dan cover WebP, serta membuat laporan konten harian di GitHub Pages." name=ai:summary><meta content="Workflow GitHub Actions otomatis untuk membersihkan gambar orphan, menghitung jumlah artikel dan cover WebP, serta membuat laporan konten harian di GitHub Pages." name=ai:prompt_hint><link href=https://dalam.web.id/warta-tekno/pengecekan-dan-laporan-konten-harian rel=canonical><link href=/favicon.ico rel=icon><link href=https://creativecommons.org/publicdomain/zero/1.0/ rel=license><meta content="Fakhrul Rijal" name=author><meta content="index, follow, max-image-preview:large" name=robots><meta content=max-image-preview:large name=googlebot><meta content=#00b0ed name=theme-color><meta content=@frijal@mastodon.social name=fediverse:creator><meta content=@responaja name=twitter:creator><meta content=@dalam.web.id name=bluesky:creator><meta content="Layar Kosong" property=og:site_name><meta content=id_ID property=og:locale><meta content=article property=og:type><meta content=https://dalam.web.id/warta-tekno/pengecekan-dan-laporan-konten-harian property=og:url><meta content="Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†" property=og:title><meta content="Workflow GitHub Actions otomatis untuk membersihkan gambar orphan, menghitung jumlah artikel dan cover WebP, serta membuat laporan konten harian di GitHub Pages." property=og:description><meta content=summary_large_image name=twitter:card><meta content=@responaja name=twitter:site><meta content=175216696195384 property=fb:app_id><meta content=https://facebook.com/frijal property=article:author><meta content=https://facebook.com/frijalpage property=article:publisher><meta content=https://dalam.web.id/img/pengecekan-dan-laporan-konten-harian.webp property=og:image><meta content="Pengecekan & Laporan Konten Harian - Otomasi GitHub Actions ğŸ”†" property=og:image:alt><meta content=1200 property=og:image:width><meta content=675 property=og:image:height><meta content=https://dalam.web.id/img/pengecekan-dan-laporan-konten-harian.webp name=twitter:image><meta content=https://dalam.web.id/img/pengecekan-dan-laporan-konten-harian.webp itemprop=image><header><h1>ğŸ”† Pengecekan & Laporan Konten Harian</h1><div id=iposbrowser></div></header><main><p>Workflow ini berjalan otomatis di **GitHub Actions** setiap hari untuk menjaga kebersihan dan keteraturan konten di situs *dalam.web.id*. Ia melakukan dua hal penting: membersihkan gambar yang tidak dipakai lagi (orphan) dan membuat laporan jumlah konten serta badge status yang bisa ditampilkan di halaman utama. Santai tapi disiplin ğŸ˜„<h2>ğŸ§© Alur Kerja (Flow)</h2><div class=flowchart><div class=node>â° Jadwal Otomatis (21:00 UTC)</div><svg class=arrow fill=none stroke=var(--accent) stroke-width=3 xmlns=http://www.w3.org/2000/svg><path d="M5 20 L35 20 M25 10 L35 20 L25 30"></path></svg><div class=node>ğŸ§¹ Cleanup Orphan</div><svg class=arrow fill=none stroke=var(--accent) stroke-width=3 xmlns=http://www.w3.org/2000/svg><path d="M5 20 L35 20 M25 10 L35 20 L25 30"></path></svg><div class=node>ğŸ“Š Reporting</div><svg class=arrow fill=none stroke=var(--accent) stroke-width=3 xmlns=http://www.w3.org/2000/svg><path d="M5 20 L35 20 M25 10 L35 20 L25 30"></path></svg><div class=node>ğŸš€ Commit & Push</div></div><h2>ğŸ§­ Tujuan Workflow</h2><ul><li>**Membersihkan gambar orphan:** Menghapus file `.webp` yang tidak punya pasangan `.html`.<li>**Membuat laporan harian:** Menghitung jumlah file HTML, WebP, PNG, dan membuat badge status otomatis.</ul><h2>ğŸ“œ Kode Workflow Lengkap</h2><pre><code>name: ğŸ”† Pengecekan & Laporan Konten Harian
on:
  schedule:
    - cron: '0 21 * * *'
  workflow_dispatch:
jobs:
  cleanup:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - name: Cari dan Hapus Gambar Orphan
        id: cleanup_step
        run: |
          echo "ğŸ§¹ Memulai proses..."
          DELETED_COUNT=0
          for webp_file in img/*.webp; do
            base=$(basename "$webp_file" .webp)
            html="artikel/${base}.html"
            if [ ! -f "$html" ]; then
              git rm -f "$webp_file"
              DELETED_COUNT=$((DELETED_COUNT+1))
            fi
          done
          echo "deleted_count=$DELETED_COUNT" >> $GITHUB_OUTPUT
      - if: steps.cleanup_step.outputs.deleted_count != '0'
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git commit -m "chore(cleanup): hapus gambar orphan"
          git pull origin main --rebase
          git push
  reporting:
    needs: cleanup
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
      - run: sudo apt-get update && sudo apt-get install -y jq
      - name: Setup Variabel
        id: vars
        run: |
          TARGETS="artikel img"
          DATE=$(date +'%m-%d')
          REPORT="mini/${DATE}-laporan_konten.txt"
          echo "report=$REPORT" >> $GITHUB_OUTPUT
          echo "targets=$TARGETS" >> $GITHUB_OUTPUT
      - name: Hitung File
        id: count
        run: |
          TARGETS="${{ steps.vars.outputs.targets }}"
          declare -A counts
          for ext in html webp png; do
            counts[$ext]=$(find $TARGETS -maxdepth 1 -type f -iname "*.$ext" | wc -l)
          done
          counts[all]=$(find $TARGETS -maxdepth 1 -type f | wc -l)
          for k in "${!counts[@]}"; do echo "$k=${counts[$k]}" >> $GITHUB_OUTPUT; done
      - name: Buat Laporan
        run: |
          REPORT="${{ steps.vars.outputs.report }}"
          DATE=$(date +'%d %B %Y')
          mkdir -p mini
          {
            echo "LAPORAN KONTEN ($DATE)"
            echo "==========================="
            echo "HTML=${{ steps.count.outputs.html }}, WEBP=${{ steps.count.outputs.webp }}, PNG=${{ steps.count.outputs.png }}"
            echo ""
            echo "URL Artikel:"
            find artikel -maxdepth 1 -iname "*.html" | sort
          } > "$REPORT"
      - name: Buat Badge JSON
        run: |
          mkdir -p mini
          html=${{ steps.count.outputs.html }}
          webp=${{ steps.count.outputs.webp }}
          color=$(if (( html > webp )); then echo red; elif (( html &lt; webp )); then echo green; else echo blue; fi)
          jq -n --arg h "$html" --arg w "$webp" '{schemaVersion:1,label:"html/webp",message:("\($h)/\($w)"),color:"'$color'"}' > mini/html_webp_badge.json
      - name: Commit & Push
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          git add mini/*
          if ! git diff --staged --quiet; then
            git commit -m "chore: update laporan & badge konten"
            git pull origin main --rebase
            git push
          fi</code></pre><h2>ğŸ“ˆ Hasil Akhir</h2><p>Setelah workflow selesai, folder `mini/` akan berisi:<ul><li>`10-22-laporan_konten.txt` â€” laporan jumlah file<li>`html_webp_badge.json` â€” badge status<li>Beberapa laporan sebelumnya (maksimal 7 hari)</ul><h2>ğŸ’¡ Kesimpulan</h2><p>Dengan workflow ini, semuanya jadi otomatis: file lama dibersihkan, laporan diperbarui, dan badge status konten dibuat setiap hari tanpa sentuhan manual. Workflow kecil tapi sangat membantu menjaga kualitas konten di **dalam.web.id** ğŸš€<div id=pesbukdiskus></div><div id=related-articles-grid></div></main><footer><p>ğŸ„¯ 2025 [dalam.web.id](https://dalam.web.id) â€” Workflow Otomatis Harian</footer><script>document.addEventListener("DOMContentLoaded",()=>{console.log("âœ¨ Workflow page loaded!");const e=document.querySelectorAll(".node");e.forEach((e,o)=>setTimeout(()=>e.style.transform="scale(1.05)",200*o)),setTimeout(()=>e.forEach(e=>e.style.transform=""),2e3)})</script><div id=progress></div><a href=https://dalam.web.id/ id=layar-kosong-header></a><div class=search-floating-container><input autocomplete=off id=floatingSearchInput placeholder="cari artikel..."><span class=clear-button id=floatingSearchClear></span><div class=floating-results-container id=floatingSearchResults></div></div><div class=floating-nav id=dynamic-nav-container></div><div id=internal-nav></div><section id=related-marquee-section><div id=related-marquee-container></div></section><script defer="" src=/ext/marquee-url.js></script><script defer="" src=/ext/iposbrowser.js></script><script defer="" src=/ext/markdown.js></script><script defer="" src=/ext/pesbukdiskus.js></script>
<noscript>udah_dijepit_oleh_Fakhrul_Rijal_2026-02-05</noscript>