<!doctype html><html lang=id prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Pembersihan Otomatis Dependencies (Non-Interaktif)</title><meta content="Cara otomatis hapus dependencies Node.js tak terpakai menggunakan depcheck dan skrip non-interaktif di GitHub Actions. Jaga repo tetap ramping tanpa input manual." name=description><meta content="cleanup dependencies, npm ci, node_modules, GitHub Actions, CI/CD automation, Node.js cleanup script, depcheck tutorial" name=news_keywords><link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=JetBrains+Mono:wght@500&display=swap" rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/prismjs@latest/themes/prism-tomorrow.min.css rel=stylesheet><style>:root{--bg:#ffffff;--text:#1a202c;--accent:#059669;--code-bg:#0f172a;--border:#e2e8f0}@media (prefers-color-scheme:dark){:root{--bg:#0b0e14;--text:#e2e8f0;--accent:#10b981;--border:#1f2937}}body{margin:0;font-family:'Plus Jakarta Sans',sans-serif;background:var(--bg);color:var(--text);line-height:1.8;font-size:1.25rem}main{max-width:850px;margin:0 auto;padding:80px 24px}h1{font-size:3.5rem;font-weight:800;line-height:1.1;letter-spacing:-.05em;margin-bottom:30px}.status-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(16,185,129,.1);color:var(--accent);padding:6px 16px;border-radius:99px;font-size:.9rem;font-weight:700;text-transform:uppercase;margin-bottom:20px}p{margin-bottom:1.5rem}.feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin:40px 0}.feature-card{background:var(--bg);border:1px solid var(--border);padding:24px;border-radius:20px}pre[class*=language-]{border-radius:16px!important;margin:2rem 0!important;font-size:1.1rem!important;box-shadow:0 20px 25px -5px rgba(0,0,0,.1)}.tip-box{border-left:6px solid var(--accent);background:rgba(16,185,129,.05);padding:30px;border-radius:0 20px 20px 0;margin:40px 0}code{font-family:'JetBrains Mono',monospace;font-size:.9em;background:rgba(0,0,0,.05);padding:2px 6px;border-radius:4px}@media (max-width:600px){h1{font-size:2.2rem}body{font-size:1.15rem}}</style><link href=/ext/marquee-url.css rel=stylesheet><link href=https://dalam.web.id/rss.xml rel=alternate title="30 artikel baru bikin." type=application/rss+xml><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://dalam.web.id/#website","url":"https://dalam.web.id/","name":"Layar Kosong","publisher":{"@type":"Organization","@id":"https://dalam.web.id/#organization","name":"Layar Kosong","url":"https://dalam.web.id","logo":{"@type":"ImageObject","url":"https://dalam.web.id/logo.png","width":384,"height":384}}},{"@type":"Article","@id":"https://dalam.web.id/warta-tekno/cleanup-auto/#article","isPartOf":{"@id":"https://dalam.web.id/#website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dalam.web.id/warta-tekno/cleanup-auto/"},"license": "https://creativecommons.org/publicdomain/zero/1.0/","headline":"Pembersihan Otomatis Dependencies (Non-Interaktif)","description":"Cara otomatis hapus dependencies Node.js tak terpakai menggunakan depcheck dan skrip non-interaktif di GitHub Actions. Jaga repo tetap ramping tanpa input manual.","articleSection":"Warta Tekno","keywords":"auto, cleanup, dependencies, interaktif, layar kosong, otomatis, pembersihan, warta tekno","image":{"@type":"ImageObject","url":"https://dalam.web.id/img/cleanup-auto.webp","width":1200,"height":675},"author":{"@type":"Person","name":"Fakhrul Rijal","url":"https://dalam.web.id/about"},"publisher":{"@id":"https://dalam.web.id/#organization"},"datePublished":"2025-12-30T09:56:06.895+00:00","dateModified":"2025-12-30T09:56:06.895+00:00"},{"@type":"BreadcrumbList","@id":"https://dalam.web.id/warta-tekno/cleanup-auto/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Beranda","item":"https://dalam.web.id/"},{"@type":"ListItem","position":2,"name":"Warta Tekno","item":"https://dalam.web.id/warta-tekno/"},{"@type":"ListItem","position":3,"name":"Pembersihan Otomatis Dependencies (Non-Interaktif)","item":"https://dalam.web.id/warta-tekno/cleanup-auto/"}]}]}</script><link href=https://dalam.web.id/warta-tekno/cleanup-auto/ rel=canonical><link href=/favicon.ico rel=icon><link href=https://creativecommons.org/publicdomain/zero/1.0/ rel=license><meta content="Fakhrul Rijal" name=author><meta content="index, follow, max-image-preview:large" name=robots><meta content=max-image-preview:large name=googlebot><meta content=#00b0ed name=theme-color><meta content=@frijal@mastodon.social name=fediverse:creator><meta content=@responaja name=twitter:creator><meta content=@dalam.web.id name=bluesky:creator><meta content="Layar Kosong" property=og:site_name><meta content=id_ID property=og:locale><meta content=article property=og:type><meta content=https://dalam.web.id/warta-tekno/cleanup-auto/ property=og:url><meta content="Pembersihan Otomatis Dependencies (Non-Interaktif)" property=og:title><meta content="Cara otomatis hapus dependencies Node.js tak terpakai menggunakan depcheck dan skrip non-interaktif di GitHub Actions. Jaga repo tetap ramping tanpa input manual." property=og:description><meta content=summary_large_image name=twitter:card><meta content=@responaja name=twitter:site><meta content=175216696195384 property=fb:app_id><meta content=https://facebook.com/frijal property=article:author><meta content=https://facebook.com/frijalpage property=article:publisher><main><div class=status-badge><span style=width:8px;height:8px;background:currentColor;border-radius:50%></span> Workflow Active</div><h1>üßπ Pembersihan Otomatis Dependencies Node.js</h1><div id=iposbrowser></div><p>Pernah ngerasa proyek Node.js kamu makin berat gara-gara <em>dependencies</em> yang sebenernya nggak kepakai? Kalau dibiarin, repo kamu cuma jadi "gudang sampah" kode. Di sini saya bagiin cara bersihin itu semua secara <strong>non-interaktif</strong>‚Äîcocok banget buat kamu yang pengen automasi di GitHub Actions tanpa drama ketik "y/n" di terminal.<div class=feature-grid><div class=feature-card><h3 style=margin-top:0>üîç Deteksi Cerdas</h3><p style=font-size:1rem;margin:0>Mencari paket yang terdaftar di package.json tapi absen di kode sumber.</div><div class=feature-card><h3 style=margin-top:0>‚ö° Tanpa Konfirmasi</h3><p style=font-size:1rem;margin:0>Skrip berjalan mandiri, langsung eksekusi tanpa nunggu jawaban kamu.</div><div class=feature-card><h3 style=margin-top:0>‚ôªÔ∏è Fresh Install</h3><p style=font-size:1rem;margin:0>Hapus node_modules dan pasang ulang biar semuanya bersih dari cache.</div></div><h2>ü™Ñ Skrip Utama: <code>cleanup-auto.js</code></h2><p>Simpan skrip sakti ini di folder <code>ext/cleanup-auto.js</code>. Skrip ini pakai library <code>depcheck</code> buat nyari mana yang cuma "numpang" doang.<pre><code class=language-js>#!/usr/bin/env node
/**
 * CLEANUP AUTO v1.1 - Layar Kosong
 * Menghapus paket tidak terpakai secara otomatis
 */
import { execSync } from 'node:child_process';
import depcheck from 'depcheck';
import fs from 'node:fs';
(async () => {
  console.log('üöÄ Memulai audit dependencies...');
  const result = await depcheck(process.cwd(), {});
  const unused = [...result.dependencies, ...result.devDependencies];
  if (unused.length === 0) {
    console.log('‚úÖ Bersih! Tidak ada paket yang perlu dihapus.');
  } else {
    console.log('üßπ Menghapus paket tak terpakai:', unused.join(', '));
    execSync(`npm uninstall ${unused.join(' ')}`, { stdio: 'inherit' });
  }
  console.log('üóëÔ∏è Membersihkan node_modules & lockfile...');
  fs.rmSync('node_modules', { recursive: true, force: true });
  fs.rmSync('package-lock.json', { force: true });
  console.log('üì¶ Menjalankan instalasi ulang yang bersih...');
  execSync('npm install', { stdio: 'inherit' });
  console.log('‚ú® Selesai! Repo kamu sekarang lebih ramping.');
})();</code></pre><h2>‚öôÔ∏è Jadwalkan di GitHub Actions</h2><p>Ngapain jalanin manual kalau bisa disuruh tiap minggu? Pakai file YAML ini di <code>.github/workflows/cleanup.yml</code>.<pre><code class=language-yaml>name: Weekly Dependency Cleanup
on:
  schedule:
    - cron: '0 21 * * 0' # Setiap Minggu Malam (WIB menyesuaikan)
  workflow_dispatch:
jobs:
  automation:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      - name: Install Tools
        run: npm ci
      - name: Eksekusi Skrip Pembersihan
        run: node ext/cleanup-auto.js</code></pre><div class=tip-box><h3 style=margin-top:0>üí° Tips:</h3><p style=margin:0>Pastikan kamu sudah install <code>depcheck</code> di proyek kamu sebelum menjalankan skrip ini (<code>npm install depcheck --save-dev</code>). Gunakan workflow ini di branch <em>development</em> dulu buat mastiin nggak ada paket "ajaib" yang hilang tapi ternyata dibutuhin di produksi!</div><div id=pesbukdiskus></div><div id=related-articles-grid></div></main><script src=https://cdn.jsdelivr.net/npm/prismjs@latest/prism.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@latest/components/prism-javascript.min.js></script><script src=https://cdn.jsdelivr.net/npm/prismjs@latest/components/prism-yaml.min.js></script><div id=progress></div><a href=https://dalam.web.id/ id=layar-kosong-header></a><div class=search-floating-container><input autocomplete=off id=floatingSearchInput placeholder="cari artikel..."><span class=clear-button id=floatingSearchClear></span><div class=floating-results-container id=floatingSearchResults></div></div><div class=floating-nav id=dynamic-nav-container></div><div id=internal-nav></div><section id=related-marquee-section><div id=related-marquee-container></div></section><script src=/ext/marquee-url.js defer=""></script><script src=/ext/iposbrowser.js defer=""></script><script src=/ext/markdown.js defer=""></script><script src=/ext/pesbukdiskus.js defer=""></script>
<noscript>udah_dijepit_oleh_Fakhrul_Rijal_2026-02-01_04_03</noscript>