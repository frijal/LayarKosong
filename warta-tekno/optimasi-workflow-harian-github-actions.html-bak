<!doctype html><html lang=id prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Workflow Cerdas: Satu Job untuk Semua Tugas Perawatan Harian</title><meta content="Tutorial cara mengoptimalkan workflow GitHub Actions dengan menggabungkan beberapa job (screenshots, cleanup, reporting) menjadi satu job tunggal yang efisien dan atomik." name=description><meta content="github actions, workflow, optimasi, puppeteer, ci/cd, single job, frijal pages" name=keywords><link href=apple-touch-icon.png rel=apple-touch-icon><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect crossorigin=""><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel=stylesheet><link href=/ext/fontawesome.css rel=stylesheet><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://dalam.web.id#website","url":"https://dalam.web.id","name":"Layar Kosong","publisher":{"@type":"Organization","@id":"https://dalam.web.id#organization","name":"Layar Kosong","url":"https://dalam.web.id","logo":{"@type":"ImageObject","url":"https://dalam.web.id/logo.png","width":384,"height":384}}},{"@type":"Article","@id":"https://dalam.web.id/warta-tekno/optimasi-workflow-harian-github-actions#article","isPartOf":{"@id":"https://dalam.web.id#website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dalam.web.id/warta-tekno/optimasi-workflow-harian-github-actions"},"license":"https://creativecommons.org/publicdomain/zero/1.0/","headline":"Workflow Cerdas: Satu Job untuk Semua Tugas Perawatan Harian","description":"Tutorial cara mengoptimalkan workflow GitHub Actions dengan menggabungkan beberapa job (screenshots, cleanup, reporting) menjadi satu job tunggal yang efisien dan atomik.","articleSection":"Warta Tekno","keywords":"actions, cerdas, github, harian, layar kosong, optimasi, perawatan, satu, semua, tugas, warta tekno, workflow","image":{"@type":"ImageObject","url":"https://dalam.web.id/img/optimasi-workflow-harian-github-actions.webp","width":1200,"height":675},"author":{"@type":"Person","name":"Fakhrul Rijal","url":"https://dalam.web.id/about"},"publisher":{"@id":"https://dalam.web.id#organization"},"datePublished":"2025-10-22T11:53:56.641+00:00","dateModified":"2025-10-22T11:53:56.641+00:00"},{"@type":"BreadcrumbList","@id":"https://dalam.web.id/warta-tekno/optimasi-workflow-harian-github-actions#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Beranda","item":"https://dalam.web.id"},{"@type":"ListItem","position":2,"name":"Warta Tekno","item":"https://dalam.web.id/warta-tekno"},{"@type":"ListItem","position":3,"name":"Workflow Cerdas: Satu Job untuk Semua Tugas Perawatan Harian","item":"https://dalam.web.id/warta-tekno/optimasi-workflow-harian-github-actions"}]}]}</script><style>:root{--bg-color:#1a1a2e;--primary-color:#16213e;--secondary-color:#0f3460;--text-color:#dcdcdc;--header-color:#ffffff;--code-bg:#2d2d44;--border-color:#3a3a5a;--accent-generate:#9b59b6;--accent-cleanup:#e67e22;--accent-report:#3498db;--accent-commit:#2ecc71}body{font-family:Poppins,sans-serif;background-color:var(--bg-color);color:var(--text-color);line-height:1.8;margin:0;padding:20px}.container{max-width:900px;margin:40px auto;background-color:var(--primary-color);border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,.4);overflow:hidden}header{background:linear-gradient(45deg,#16213e,#0f3460);padding:40px;text-align:center;border-bottom:5px solid var(--border-color)}header h1{color:var(--header-color);font-size:2.5rem;margin:0;font-weight:700}header .subtitle{color:var(--text-color);font-size:1.1rem;margin-top:10px;max-width:700px;margin-left:auto;margin-right:auto}main{padding:30px 40px}article h2{color:var(--header-color);font-size:1.8rem;border-bottom:2px solid var(--border-color);padding-bottom:10px;margin-bottom:20px}.problem-box{background-color:rgba(231,76,60,.1);border-left:5px solid #e74c3c;padding:15px 20px;margin:20px 0;border-radius:5px}.problem-box ul{list-style:none;padding:0;margin:0}.problem-box li{display:flex;align-items:center;gap:10px;margin-bottom:10px}.problem-box li:last-child{margin-bottom:0}.timeline{position:relative;margin:40px 0;padding-left:30px}.timeline::before{content:'';position:absolute;left:10px;top:10px;bottom:10px;width:4px;background:var(--border-color);border-radius:2px}.timeline-item{position:relative;margin-bottom:40px}.timeline-item:last-child{margin-bottom:0}.timeline-icon{position:absolute;left:-20px;top:0;width:40px;height:40px;border-radius:50%;display:flex;justify-content:center;align-items:center;color:#fff;font-size:1.4rem;border:4px solid var(--primary-color)}.timeline-icon.generate{background-color:var(--accent-generate)}.timeline-icon.cleanup{background-color:var(--accent-cleanup)}.timeline-icon.report{background-color:var(--accent-report)}.timeline-icon.commit{background-color:var(--accent-commit)}.timeline-content{padding-left:30px}.timeline-content h3{margin:0 0 5px 0;font-size:1.4rem;color:var(--header-color);font-weight:600}.timeline-content p{font-size:1rem;margin:0}h3{color:var(--header-color);margin-top:30px}.code-block{position:relative;background-color:var(--code-bg);border-radius:8px;padding:15px;margin:20px 0;overflow-x:auto;border:1px solid var(--border-color)}.code-block pre{margin:0;padding:0}.code-block code{font-family:'Courier New',Courier,monospace;font-size:.9rem;color:#a6e22e}.copy-btn{position:absolute;top:10px;right:10px;background-color:#555;color:#fff;border:none;border-radius:5px;padding:8px 12px;cursor:pointer;opacity:.8;transition:opacity .2s,transform .2s}.copy-btn:hover{opacity:1;transform:scale(1.05)}.share-section{text-align:center;margin-top:50px;padding-top:30px;border-top:2px solid var(--border-color)}.share-section h3{color:var(--header-color);margin-bottom:20px}.social-icons{display:flex;justify-content:center;gap:15px}.copy-link,.social-icon{display:inline-flex;justify-content:center;align-items:center;width:45px;height:45px;border-radius:50%;color:#fff;text-decoration:none;font-size:1.2rem;transition:transform .3s,background-color .3s}.copy-link:hover,.social-icon:hover{transform:translateY(-5px)}.twitter{background:#1da1f2}.facebook{background:#1877f2}.whatsapp{background:#25d366}.linkedin{background:#0a66c2}.copy-link{background:#6c757d;border:none;cursor:pointer}footer{text-align:center;padding:20px;background-color:var(--secondary-color);color:var(--text-color);font-size:.9rem;margin-top:40px}footer a{color:var(--header-color);text-decoration:none}@media (max-width:768px){body{padding:0}.container{border-radius:0;margin:0}header h1{font-size:1.8rem}main{padding:20px}.timeline{padding-left:20px}.timeline-icon{left:-10px}}</style><link href=/ext/marquee-url.css rel=stylesheet><link href=https://dalam.web.id/rss.xml rel=alternate title="30 artikel baru bikin." type=application/rss+xml><meta content="Tutorial cara mengoptimalkan workflow GitHub Actions dengan menggabungkan beberapa job (screenshots, cleanup, reporting) menjadi satu job tunggal yang efisien dan atomik." name=ai:summary><meta content="Tutorial cara mengoptimalkan workflow GitHub Actions dengan menggabungkan beberapa job (screenshots, cleanup, reporting) menjadi satu job tunggal yang efisien dan atomik." name=ai:prompt_hint><link href=https://dalam.web.id/warta-tekno/optimasi-workflow-harian-github-actions rel=canonical><link href=/favicon.ico rel=icon><link href=https://creativecommons.org/publicdomain/zero/1.0/ rel=license><meta content="Fakhrul Rijal" name=author><meta content="index, follow, max-image-preview:large" name=robots><meta content=max-image-preview:large name=googlebot><meta content=#00b0ed name=theme-color><meta content=@frijal@mastodon.social name=fediverse:creator><meta content=@responaja name=twitter:creator><meta content=@dalam.web.id name=bluesky:creator><meta content="Layar Kosong" property=og:site_name><meta content=id_ID property=og:locale><meta content=article property=og:type><meta content=https://dalam.web.id/warta-tekno/optimasi-workflow-harian-github-actions property=og:url><meta content="Workflow Cerdas: Satu Job untuk Semua Tugas Perawatan Harian" property=og:title><meta content="Tutorial cara mengoptimalkan workflow GitHub Actions dengan menggabungkan beberapa job (screenshots, cleanup, reporting) menjadi satu job tunggal yang efisien dan atomik." property=og:description><meta content=summary_large_image name=twitter:card><meta content=@responaja name=twitter:site><meta content=175216696195384 property=fb:app_id><meta content=https://facebook.com/frijal property=article:author><meta content=https://facebook.com/frijalpage property=article:publisher><meta content=https://dalam.web.id/img/optimasi-workflow-harian-github-actions.webp property=og:image><meta content="Workflow Cerdas: Satu Job untuk Semua Tugas Perawatan Harian" property=og:image:alt><meta content=1200 property=og:image:width><meta content=675 property=og:image:height><meta content=https://dalam.web.id/img/optimasi-workflow-harian-github-actions.webp name=twitter:image><meta content=https://dalam.web.id/img/optimasi-workflow-harian-github-actions.webp itemprop=image><div class=container><header><h1>Alur Kerja Cerdas: Satu Job untuk Semua Tugas Perawatan Harian ðŸš€</h1><div id=iposbrowser></div><p class=subtitle>Sebuah studi kasus tentang cara mengubah workflow yang terpisah-pisah menjadi satu proses tunggal yang efisien, bersih, dan atomik.</header><main><article><h2>Masalahnya: Terlalu Banyak Job, Terlalu Boros</h2><p>Awalnya, saya punya workflow harian yang dibagi menjadi beberapa job: satu untuk membersihkan gambar, satu lagi untuk membuat laporan. Secara logika ini benar, tapi secara teknis sangat tidak efisien. Kenapa?<div class=problem-box><ul><li><i class="fas fa-undo"></i> **Boros `checkout`**: Setiap job harus melakukan `checkout` repositori dari awal. Ini membuang waktu.<li><i class="fas fa-random"></i> **Riwayat Commit Berantakan**: Setiap job membuat commit-nya sendiri-sendiri, menghasilkan riwayat Git yang "berisik".<li><i class="fas fa-hourglass-half"></i> **Potensi Masalah Timing**: Data yang digunakan oleh job kedua mungkin sudah usang karena tidak melihat perubahan yang dibuat oleh job pertama.</ul></div><p>Solusinya? Rombak total dan gabungkan semuanya ke dalam **satu job tunggal** dengan urutan proses yang logis.<h2>Solusi: Satu Alur Kerja, Satu Tujuan</h2><p>Dengan satu job, kita bisa mengatur urutan tugas dengan sempurna: **buat dulu aset baru**, **bersihkan yang lama**, lalu **laporkan kondisi finalnya**. Semua dalam satu proses yang mulus.<div class=timeline><div class=timeline-item><div class="timeline-icon generate"><i class="fas fa-camera-retro"></i></div><div class=timeline-content><h3>Langkah 1: Buat Aset Baru (Generate Screenshots)</h3><p>Proses dimulai dengan membuat aset yang mungkin belum ada. Skrip Puppeteer dijalankan untuk membuat screenshot artikel yang belum memiliki gambar cover.</div></div><div class=timeline-item><div class="timeline-icon cleanup"><i class="fas fa-broom"></i></div><div class=timeline-content><h3>Langkah 2: Bersihkan Aset Lama (Cleanup Orphans)</h3><p>Setelah semua gambar yang seharusnya ada sudah dibuat, sekarang waktunya bersih-bersih. Skrip akan mencari gambar `.webp` yang artikelnya sudah tidak ada lagi (orphan) dan menghapusnya.</div></div><div class=timeline-item><div class="timeline-icon report"><i class="fas fa-chart-bar"></i></div><div class=timeline-content><h3>Langkah 3: Laporkan Kondisi Final (Count & Report)</h3><p>Setelah semua aset ada di tempatnya dan yang tidak perlu sudah dibuang, barulah kita menghitung dan membuat laporan. Hasil laporan ini akan menjadi cerminan akurat dari kondisi repo saat itu.</div></div><div class=timeline-item><div class="timeline-icon commit"><i class="fa-git-alt fab"></i></div><div class=timeline-content><h3>Langkah Final: Satu Commit untuk Semua</h3><p>Inilah bagian terbaiknya. Semua perubahanâ€”gambar baru, gambar yang dihapus, dan laporan baruâ€”dikemas ke dalam **satu commit atomik**. Riwayat Git menjadi bersih dan mudah dibaca.</div></div></div><h3>Kode Final Workflow:</h3><p>Inilah wujud akhir dari workflow yang sudah dioptimalkan. Satu job, satu tujuan, efisiensi maksimal.<div class=code-block><pre><code>name: ðŸ”† Perawatan & Laporan Konten Harian
on:
  schedule:
    - cron: '0 21 * * *'
  workflow_dispatch:
jobs:
  maintenance_and_reporting:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: '1. Checkout Repository'
        uses: actions/checkout@v4
        with: { fetch-depth: 0 }
      - name: '2. Setup Node.js'
        uses: actions/setup-node@v4
        with: { node-version: '20' }
      - name: '3. Generate Missing Screenshots'
        run: |
          npm install puppeteer --no-save
          node ext/screenshot-puppeteer.js
      - name: '4. Cari dan Hapus Gambar Orphan'
        id: cleanup_step
        run: |
          # ... (script cleanup) ...
      - name: '5. Hitung File & Buat Laporan'
        run: |
          # ... (script reporting) ...
      - name: '6. Rotasi Laporan Lama'
        run: |
          # ... (script rotasi) ...
      - name: '7. Hapus File Sementara'
        run: rm -rf tmp/ __pycache__/
      - name: '8. Commit All Changes'
        run: |
          git config --global user.name 'github-actions[bot]'
          git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
          git add img/ mini/
          if ! git diff --staged --quiet; then
            git commit -m "chore: Daily maintenance (screenshots, cleanup, report)"
            git pull origin main --rebase
            git push
          else
            echo "âœ… Tidak ada perubahan baru."
          fi</code></pre><button class=copy-btn><i class="fa-copy far"></i> Salin</button></div></article><div><div id=pesbukdiskus></div><div id=related-articles-grid></div></div></main><footer><p>ðŸ„¯ 2025 - [Jaga Data Pribadi Tetap Aman](https://dalam.web.id)</footer></div><script>document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".copy-btn").forEach(e=>{e.addEventListener("click",e=>{const r=e.currentTarget.previousElementSibling.querySelector("code").innerText;navigator.clipboard.writeText(r).then(()=>{const r=e.currentTarget.innerHTML;e.currentTarget.innerHTML='<i class="fas fa-check"></i> Disalin!',e.currentTarget.disabled=!0,e.currentTarget.style.backgroundColor="#27ae60",setTimeout(()=>{e.currentTarget.innerHTML=r,e.currentTarget.disabled=!1,e.currentTarget.style.backgroundColor="#555"},2e3)}).catch(e=>{console.error("Gagal menyalin teks: ",e)})})})})</script><div id=progress></div><a href=https://dalam.web.id/ id=layar-kosong-header></a><div class=search-floating-container><input autocomplete=off id=floatingSearchInput placeholder="cari artikel..."><span class=clear-button id=floatingSearchClear></span><div class=floating-results-container id=floatingSearchResults></div></div><div class=floating-nav id=dynamic-nav-container></div><div id=internal-nav></div><section id=related-marquee-section><div id=related-marquee-container></div></section><script defer="" src=/ext/markdown.js></script><script defer="" src=/ext/marquee-url.js></script><script defer="" src=/ext/iposbrowser.js></script><script defer="" src=/ext/pesbukdiskus.js></script><noscript>schema_oleh_Fakhrul_Rijal_2026-02-19</noscript>
<noscript>udah_dijepit_oleh_Fakhrul_Rijal_2026-02-19</noscript>