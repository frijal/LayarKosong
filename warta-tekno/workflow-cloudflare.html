<!DOCTYPE html><html lang="id" prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare</title><meta name="description" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien."><style>body{margin:0;font-family:'Segoe UI',sans-serif;background-color:#f9f9f9;color:#333;line-height:1.6}header{background-color:#1e293b;color:#fff;padding:2rem;text-align:center}header h1{margin:0;font-size:2rem}main{max-width:960px;margin:auto;padding:2rem}img{max-width:100%;height:auto;border-radius:8px;margin-bottom:1rem}section{margin-bottom:2rem}pre{background-color:#f0f0f0;padding:1rem;overflow-x:auto;border-radius:6px;font-size:.9rem}.social-share{display:flex;gap:1rem;flex-wrap:wrap;margin-top:2rem}.social-share a{text-decoration:none;color:#fff;padding:.5rem 1rem;border-radius:4px;font-weight:700}.facebook{background-color:#1877f2}.twitter{background-color:#1da1f2}.linkedin{background-color:#0077b5}.whatsapp{background-color:#25d366}footer{background-color:#1e293b;color:#fff;text-align:center;padding:1rem}</style><link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://dalam.web.id/rss.xml"><meta name="ai:summary" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien."><meta name="ai:prompt_hint" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien."><link rel="canonical" href="https://dalam.web.id/warta-tekno/workflow-cloudflare/"><link rel="icon" href="/favicon.ico"><link rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/"><meta name="author" content="Fakhrul Rijal"><meta name="robots" content="index, follow, max-image-preview:large"><meta name="googlebot" content="max-image-preview:large"><meta name="theme-color" content="#00b0ed"><meta name="fediverse:creator" content="@frijal@mastodon.social"><meta name="twitter:creator" content="@responaja"><meta name="bluesky:creator" content="@dalam.web.id"><meta property="og:site_name" content="Layar Kosong"><meta property="og:locale" content="id_ID"><meta property="og:type" content="article"><meta property="og:url" content="https://dalam.web.id/warta-tekno/workflow-cloudflare/"><meta property="og:title" content="‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare"><meta property="og:description" content="Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@responaja"><meta property="fb:app_id" content="175216696195384"><meta property="article:author" content="https://facebook.com/frijal"><meta property="article:publisher" content="https://facebook.com/frijalpage"><meta property="og:image" content="https://dalam.web.id/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp"><meta property="og:image:alt" content="‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="675"><meta name="twitter:image" content="https://dalam.web.id/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp"><meta itemprop="image" content="https://dalam.web.id/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://dalam.web.id/#website","url":"https://dalam.web.id/","name":"Layar Kosong","publisher":{"@type":"Organization","@id":"https://dalam.web.id/#organization","name":"Layar Kosong","url":"https://dalam.web.id","logo":{"@type":"ImageObject","url":"https://dalam.web.id/logo.png","width":384,"height":384}}},{"@type":"Article","@id":"https://dalam.web.id/warta-tekno/workflow-cloudflare/#article","isPartOf":{"@id":"https://dalam.web.id/#website"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dalam.web.id/warta-tekno/workflow-cloudflare/"},"license":"https://creativecommons.org/publicdomain/zero/1.0/","headline":"‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare","description":"Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien.","articleSection":"Warta Tekno","keywords":"actions, branch, cloudflare, copy, github, layar kosong, site, warta tekno, workflow","image":{"@type":"ImageObject","url":"https://dalam.web.id/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp","width":1200,"height":675},"author":{"@type":"Person","name":"Fakhrul Rijal","url":"https://dalam.web.id/about"},"publisher":{"@id":"https://dalam.web.id/#organization"},"datePublished":"2025-10-26T04:42:20.917+00:00","dateModified":"2025-10-26T04:42:20.917+00:00"},{"@type":"BreadcrumbList","@id":"https://dalam.web.id/warta-tekno/workflow-cloudflare/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Beranda","item":"https://dalam.web.id/"},{"@type":"ListItem","position":2,"name":"Warta Tekno","item":"https://dalam.web.id/warta-tekno/"},{"@type":"ListItem","position":3,"name":"‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare","item":"https://dalam.web.id/warta-tekno/workflow-cloudflare/"}]}]}</script></head><body><header><h1>‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare</h1><div id="iposbrowser"></div><p>Penjelasan santai dan lengkap untuk developer yang ingin deploy otomatis dan efisien</p></header><main><img src="/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp" alt="Tangkapan layar workflow GitHub Actions"><section><h2>üéØ Tujuan Workflow</h2><p>Workflow ini dirancang untuk menyalin file dari branch <code>main</code> ke branch <code>site</code> secara otomatis, hanya jika ada perubahan yang relevan. Cocok banget buat kamu yang pakai Cloudflare Pages dan ingin proses deploy yang bersih dan efisien.</p></section><section><h2>üîß Struktur dan Langkah-langkah</h2><p>Berikut adalah isi lengkap file <code>.github/workflows/deploy-to-site.yml</code>:</p><pre><code>name: ‚ö†Ô∏è Copy ke Branch Site Cloudflare
on:
  schedule:
    - cron: '0 17 * * *'
  push:
    branches:
      - main
    paths:
      - 'artikel.json'
      - '_redirects'
      - '_headers'
      - '*.html'
      - '*.xml'
      - '*.txt'
      - 'favicon.*'
      - 'icon.*'
      - 'logo.*'
      - 'thumbnail.*'
      - '*.webmanifest'
  workflow_dispatch:
permissions:
  contents: write
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source branch
        uses: actions/checkout@v4
        with:
          ref: main
          path: source
      - name: Checkout site branch (for comparison)
        uses: actions/checkout@v4
        with:
          ref: site
          path: site
      - name: Create clean directory
        run: mkdir deploy_dir
      - name: Sync allowed files to deploy directory
        run: |
          rsync -a --delete \
            --include='artikel/***' \
            --include='ext/***' \
            --include='img/***' \
            --include='artikel.json' \
            --include='_redirects' \
            --include='_headers' \
            --include='*.html' \
            --include='*.xml' \
            --include='*.txt' \
            --include='favicon.*' \
            --include='icon.*' \
            --include='logo.*' \
            --include='thumbnail.*' \
            --include='*.webmanifest' \
            --exclude='*' \
            source/ deploy_dir/
      - name: Check for changes vs deployed site
        id: check_changes
        run: |
          if git diff --no-index --quiet deploy_dir/ site/; then
            echo "changed=false" &gt;&gt; $GITHUB_OUTPUT
          else
            echo "changed=true" &gt;&gt; $GITHUB_OUTPUT
          fi
      - name: Deploy to site branch
        if: steps.check_changes.outputs.changed == 'true'
        uses: peaceiris/actions-gh-pages@v4
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./deploy_dir
          publish_branch: site
          user_name: 'github-actions[bot]'
          user_email: 'github-actions[bot]@users.noreply.github.com'
          force_orphan: false
          keep_files: false
</code></pre></section><section><h2>üìå Penjelasan Tambahan</h2><p>Workflow ini sangat cocok untuk kamu yang ingin menjaga branch <code>site</code> tetap bersih dan hanya berisi file yang memang dibutuhkan untuk deploy ke Cloudflare Pages. Dengan filter <code>paths</code> dan <code>rsync --include</code>, kamu bisa pastikan hanya file penting seperti HTML, JSON, favicon, dan manifest yang ikut disalin.</p><p>Langkah <strong>check_changes</strong> juga penting banget karena mencegah deploy yang sia-sia kalau ternyata tidak ada perubahan signifikan. Ini hemat waktu dan resource.</p></section><section><div id="pesbukdiskus"></div><div id="related-articles-grid"></div></section></main><footer><p>üÑØ 2025 Layar Kosong. Dibuat dengan ‚ù§Ô∏è oleh Fakhrul.</p></footer><div id="progress"></div><a id="layar-kosong-header" href="https://dalam.web.id/"></a><div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div><div id="dynamic-nav-container" class="floating-nav"></div><div id="internal-nav"></div><section id="related-marquee-section"><div id="related-marquee-container"></div></section><script defer="" src="/ext/marquee-url.js"></script><script defer="" src="/ext/iposbrowser.js"></script><script defer="" src="/ext/markdown.js"></script><script defer="" src="/ext/pesbukdiskus.js"></script></body></html>
<!-- jepitan_oleh_Fakhrul_Rijal 2026-01-30 -->
