<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Layar Kosong — Arsip Artikel</title>

<!-- =========================
     SEO & SCHEMA.ORG
========================= -->
<script type="application/ld+json" id="schema"></script>

<style>
/* =========================
   RESET & THEME
========================= */
:root{
  --bg:#f6f7f9;
  --card:#ffffff;
  --text:#111;
  --muted:#666;
  --accent:#2563eb;
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f1115;
    --card:#161a22;
    --text:#eaeaf0;
    --muted:#9aa0aa;
    --accent:#60a5fa;
  }
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:var(--bg);
  color:var(--text);
}

/* =========================
   HERO
========================= */
.hero{
  padding:3rem 1rem;
  text-align:center;
}
.hero h1{margin:0;font-size:2.2rem}
.hero p{color:var(--muted)}

/* =========================
   FILTERS
========================= */
.filters{
  display:grid;
  gap:.75rem;
  padding:1rem;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
}
.filters input,.filters select{
  padding:.6rem .7rem;
  border-radius:10px;
  border:1px solid #ccc;
  background:var(--card);
  color:var(--text);
}

/* =========================
   GRID & CARD
========================= */
.grid{
  display:grid;
  gap:1.2rem;
  padding:1rem;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
}
.card{
  background:var(--card);
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 8px 25px rgba(0,0,0,.08);
  display:flex;
  flex-direction:column;
}
.card img{
  width:100%;
  height:160px;
  object-fit:cover;
}
.card-body{
  padding:1rem;
  display:flex;
  flex-direction:column;
  gap:.4rem;
}
.meta{
  font-size:.8rem;
  color:var(--muted);
}
.card h2{
  font-size:1rem;
  margin:.2rem 0;
}
.read{
  margin-top:auto;
  text-decoration:none;
  color:var(--accent);
  font-weight:600;
}

/* =========================
   PAGINATION
========================= */
.pagination{
  display:flex;
  gap:.5rem;
  justify-content:center;
  padding:1.5rem;
}
.pagination button{
  padding:.4rem .7rem;
  border-radius:8px;
  border:0;
  background:var(--card);
  cursor:pointer;
  color:var(--text);
}
.pagination button.active{
  background:var(--accent);
  color:#fff;
}

/* =========================
   ARCHIVE VISUAL
========================= */
.archive{
  max-width:900px;
  margin:2rem auto;
  padding:1rem;
}
.year{margin-bottom:1.5rem}
.year h3{
  margin:.5rem 0;
  border-bottom:2px solid var(--muted);
}
.months{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:.5rem;
}
.month{
  background:var(--card);
  padding:.6rem;
  border-radius:10px;
  cursor:pointer;
  text-align:center;
  font-size:.9rem;
}
.month span{
  display:block;
  font-size:.75rem;
  color:var(--muted);
}

/* =========================
   FOOTER
========================= */
footer{
  text-align:center;
  padding:2rem;
  color:var(--muted);
  font-size:.85rem;
}
</style>
</head>

<body>

<header class="hero">
  <h1>Layar Kosong</h1>
  <p>Arsip artikel — cepat, ringan, dan interaktif</p>
</header>

<section class="filters">
  <input id="search" type="search" placeholder="Cari judul…">
  <select id="category"><option value="">Semua kategori</option></select>
  <select id="year"><option value="">Semua tahun</option></select>
  <select id="month"><option value="">Semua bulan</option></select>
</section>

<main class="grid" id="grid"></main>
<div class="pagination" id="pagination"></div>

<section class="archive" id="archive"></section>

<footer>
  Dibangun dari JSON • Client-Side Rendering
</footer>

<script>
/* =========================
   CONFIG
========================= */
const JSON_URL = "artikel.json";   // ganti jika Blogger
const PER_PAGE = 12;

/* =========================
   STATE
========================= */
let all=[],filtered=[];
let page=1;

/* =========================
   LOAD DATA
========================= */
fetch(JSON_URL).then(r=>r.json()).then(json=>{
  all = Object.entries(json).flatMap(([cat,items]) =>
    items.map(i=>({
      title:i[0],
      slug:i[1],
      image:i[2],
      date:new Date(i[3]),
      excerpt:i[4],
      category:cat
    }))
  ).sort((a,b)=>b.date-a.date);

  initFilters();
  applyFilter();
  buildArchive();
  buildSchema();
});

/* =========================
   FILTER INIT
========================= */
function initFilters(){
  const cat=new Set(),year=new Set();
  all.forEach(a=>{
    cat.add(a.category);
    year.add(a.date.getFullYear());
  });
  cat.forEach(c=>category.add(new Option(c,c)));
  [...year].sort((a,b)=>b-a).forEach(y=>yearSelect.add(new Option(y,y)));
  [...Array(12).keys()].forEach(m=>month.add(new Option(m+1,m)));
}

/* =========================
   FILTER LOGIC
========================= */
["search","category","year","month"].forEach(id=>{
  document.getElementById(id).oninput=()=>{
    page=1; applyFilter();
  };
});

function applyFilter(){
  const q=search.value.toLowerCase();
  filtered = all.filter(a=>
    (!q || a.title.toLowerCase().includes(q)) &&
    (!category.value || a.category===category.value) &&
    (!year.value || a.date.getFullYear()==year.value) &&
    (!month.value || a.date.getMonth()==month.value)
  );
  render();
}

/* =========================
   RENDER + PAGINATION
========================= */
function render(){
  grid.innerHTML="";
  const start=(page-1)*PER_PAGE;
  const slice=filtered.slice(start,start+PER_PAGE);

  slice.forEach(a=>{
    grid.insertAdjacentHTML("beforeend",`
      <article class="card">
        <img loading="lazy" src="${a.image}">
        <div class="card-body">
          <div class="meta">${a.category} · ${a.date.toLocaleDateString("id-ID")}</div>
          <h2>${a.title}</h2>
          <p>${a.excerpt}</p>
          <a class="read" href="/${a.slug}">Baca →</a>
        </div>
      </article>
    `);
  });

  renderPagination();
}

function renderPagination(){
  pagination.innerHTML="";
  const pages=Math.ceil(filtered.length/PER_PAGE);
  for(let i=1;i<=pages;i++){
    const b=document.createElement("button");
    b.textContent=i;
    if(i===page) b.className="active";
    b.onclick=()=>{page=i;render();scrollTo(0,0);}
    pagination.appendChild(b);
  }
}

/* =========================
   ARCHIVE VISUAL
========================= */
function buildArchive(){
  const map={};
  all.forEach(a=>{
    const y=a.date.getFullYear();
    const m=a.date.getMonth();
    map[y]??={};
    map[y][m]??=[];
    map[y][m].push(a);
  });

  archive.innerHTML="";
  Object.keys(map).sort((a,b)=>b-a).forEach(y=>{
    const yEl=document.createElement("div");
    yEl.className="year";
    yEl.innerHTML=`<h3>${y}</h3>`;
    const mEl=document.createElement("div");
    mEl.className="months";

    Object.keys(map[y]).sort((a,b)=>b-a).forEach(m=>{
      const d=document.createElement("div");
      d.className="month";
      d.innerHTML=`
        ${new Date(y,m).toLocaleString("id-ID",{month:"long"})}
        <span>${map[y][m].length} artikel</span>
      `;
      d.onclick=()=>{
        year.value=y;
        month.value=m;
        page=1;
        applyFilter();
        scrollTo(0,0);
      };
      mEl.appendChild(d);
    });

    yEl.appendChild(mEl);
    archive.appendChild(yEl);
  });
}

/* =========================
   SCHEMA.ORG ItemList
========================= */
function buildSchema(){
  const itemList = all.slice(0,50).map((a,i)=>({
    "@type":"ListItem",
    "position":i+1,
    "url":location.origin+"/"+a.slug,
    "name":a.title
  }));

  document.getElementById("schema").textContent = JSON.stringify({
    "@context":"https://schema.org",
    "@type":"ItemList",
    "itemListElement":itemList
  });
}
</script>

</body>
</html>
