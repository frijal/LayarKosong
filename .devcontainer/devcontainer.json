{
  "name": "Layar Kosong - Debian Trixie Bun",
  // Gunakan image Bun resmi agar tidak perlu install manual lewat curl yang sering gagal path-nya
  "image": "oven/bun:latest",

  "features": {
    "ghcr.io/devcontainers/features/docker-in-docker:2": {
      "version": "latest",
      "moby": true
    }
  },

  // Kita gunakan 'updateContentCommand' untuk install dependencies project
  // Ini lebih stabil dijalankan setelah container siap
  "postCreateCommand": "bun install",

  "customizations": {
    "vscode": {
      "settings": {
        // Mastiin terminal pakai bash dan path bun terbaca
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.env.linux": {
          "PATH": "${containerEnv:PATH}:/root/.bun/bin:/home/vscode/.bun/bin"
        }
      },
      "extensions": [
        "ovensh.bun-vscode",
        "dariofuzinato.bun-test-explorer",
        "ms-azuretools.vscode-docker"
      ]
    }
  },

  // Jika pakai image oven/bun, usernya biasanya root,
  // tapi kalau mau tetap pakai vscode user, kita sesuaikan
  "remoteUser": "root"
}