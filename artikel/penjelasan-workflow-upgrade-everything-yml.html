<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bedah Workflow upgrade-everything.yml: Otomatis Upgrade & Cleanup Dependensi.</title>
    <meta name="description" content="Penjelasan lengkap dan santai tentang cara kerja workflow GitHub Actions upgrade-everything.yml untuk otomatis upgrade (minor/patch) dan cleanup dependensi Node.js, lalu membuat Pull Request.">
    <link rel="canonical" href="https://frijal.pages.dev/artikel/penjelasan-workflow-upgrade-everything-yml.html"> 
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    
    <meta property="og:title" content="Bedah Workflow upgrade-everything.yml: Otomatis Upgrade & Cleanup Dependensi!">
    <meta property="og:description" content="Penjelasan lengkap dan santai cara kerja workflow GitHub Actions upgrade-everything.yml untuk otomatis upgrade & cleanup dependensi Node.js + bikin PR.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://frijal.pages.dev/artikel/penjelasan-workflow-upgrade-everything-yml.html">
    <meta property="og:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhw4RdahPQaBd_WuWLKqam9l9sjBn6yQOo2_7bqq1v22D91zlLVMhU6-RWAYB561a-YgDWg_Gd9FdK3LI6PX5k31Q296ZMHS6-REwjVaFsjsy-pYo1tbpXBL-jwT4ZozmRditys52dPF4L7PBe1gDSpbS4WMbpLtrfQUMbi442HDWJNGUZVeSwjNTewkTE/s1600/upgradeclean.webp"> 
    <meta property="og:image:width" content="1600">
    <meta property="og:image:height" content="900">
    <meta property="og:site_name" content="frijal.pages.dev">
    <meta property="article:published_time" content="2025-10-29T19:00:00Z"> 
    <meta property="article:author" content="Frijal">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Bedah Workflow upgrade-everything.yml: Otomatis Upgrade & Cleanup Dependensi!">
    <meta name="twitter:description" content="Penjelasan lengkap dan santai cara kerja workflow GitHub Actions upgrade-everything.yml untuk otomatis upgrade & cleanup dependensi Node.js + bikin PR.">
    <meta name="twitter:image" content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhw4RdahPQaBd_WuWLKqam9l9sjBn6yQOo2_7bqq1v22D91zlLVMhU6-RWAYB561a-YgDWg_Gd9FdK3LI6PX5k31Q296ZMHS6-REwjVaFsjsy-pYo1tbpXBL-jwT4ZozmRditys52dPF4L7PBe1gDSpbS4WMbpLtrfQUMbi442HDWJNGUZVeSwjNTewkTE/s1600/upgradeclean.webp"> 
    
    <style>
        /* --- Variabel Warna (Dark/Light Mode Otomatis - Tech Blue Theme) --- */
        :root {
            --bg-color: #f8f8f8;
            --text-color: #2c3e50;
            --header-color: #000;
            --card-bg: #ffffff;
            --border-color: #dcdcdc;
            --accent-color: #3498db; /* Biru Teknologi */
            --link-color: #2980b9;
            --link-hover: #1abc9c;
            --code-bg: #ecf0f1;
            --inline-code-bg: #e6e6e6;
            --inline-code-border: #bdc3c7;
            --pre-bg: #2d2d2d;
            --pre-text: #ccc;
            --button-bg: #3498db;
            --button-text: #ffffff;
            --button-hover-bg: #2980b9;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #1e1e1e;
                --text-color: #f4f4f4;
                --header-color: #ffffff;
                --card-bg: #252525;
                --border-color: #3a3a3a;
                --accent-color: #3498db;
                --link-color: #5dade2;
                --link-hover: #48c9b0;
                --code-bg: #333333;
                --inline-code-bg: #404040;
                --inline-code-border: #555555;
                --pre-bg: #1e1e1e;
                --pre-text: #d4d4d4;
                --button-bg: #5dade2;
                --button-text: #1e1e1e;
                --button-hover-bg: #4a93c7;
            }
        }
        /* --- Global & Desain Fullscreen --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        html, body {
            min-height: 100vh;
            width: 100%;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            font-size: 17px;
            transition: background-color 0.3s, color 0.3s;
        }
        /* --- Desain Widescreen & Responsif --- */
        main {
            max-width: 900px; 
            margin: 2rem auto;
            padding: 1rem 2rem;
            background-color: var(--card-bg); /* Beri latar belakang artikel */
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }
        article {
            width: 100%;
        }
        section {
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px dashed var(--border-color);
        }
        section:last-of-type {
            border-bottom: none;
            padding-bottom: 0;
        }
        /* --- Tipografi & Elemen --- */
        h1 {
            font-size: 2.6rem; /* Sedikit lebih besar */
            color: var(--header-color);
            text-align: center;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            padding-top: 1rem;
        }
        h2 {
            font-size: 2rem;
            color: var(--accent-color); /* H2 menggunakan warna aksen */
            margin-top: 2rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid var(--accent-color);
        }
        h3 {
            font-size: 1.5rem;
            color: var(--header-color);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        p {
            margin-bottom: 1.2rem;
        }
        /* Markdown Enhancer (CSS untuk elemen yang dihasilkan skrip) */
        .markdown-body strong {
            font-weight: 600;
            color: var(--accent-color); /* Teks tebal menggunakan warna aksen */
        }
        .markdown-body em {
            font-style: italic;
        }
        a {
            color: var(--link-color);
            text-decoration: none;
        }
        a:hover {
            color: var(--link-hover);
            text-decoration: underline;
        }
        /* --- Daftar/List --- */
        .markdown-body ul, .markdown-body ol { 
           margin-left: 1.5rem; 
           margin-bottom: 1rem; 
           padding-left: 0;
        }
        .markdown-body li {
            margin-bottom: 0.75rem; 
            line-height: 1.6;
        }
        /* --- Kode --- */
        .markdown-body code.inline-code { /* Kelas dari skrip markdown-enhancer.js */
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            background-color: var(--inline-code-bg);
            border: 1px solid var(--inline-code-border);
            padding: 0.2rem 0.4rem;
            border-radius: 6px;
            font-size: 0.9em;
            color: var(--text-color);
        }
        pre { /* Blok Kode */
            background-color: var(--pre-bg);
            color: var(--pre-text);
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 1.5rem;
            font-size: 0.9em;
        }
        pre code {
            background: none !important;
            padding: 0 !important;
            border: none !important;
            color: inherit;
            font-size: inherit;
        }
        /* --- Blockquote --- */ 
         .markdown-body blockquote {
            border-left: 5px solid var(--accent-color);
            background-color: var(--code-bg); /* Latar belakang Blockquote */
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            position: relative;
        }
        .markdown-body blockquote p:last-child {
            margin-bottom: 0;
        }
        /* --- Gambar --- */
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1.5rem auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        /* --- Button Link di Bagian Ambil Kode --- */
        .action-button {
            display: inline-block; 
            padding: 0.8rem 1.5rem; 
            background-color: var(--button-bg); 
            color: var(--button-text); 
            border-radius: 8px; 
            font-weight: bold; 
            text-decoration: none;
            transition: background-color 0.3s, transform 0.2s;
            margin: 0.5rem;
        }
        .action-button:hover {
            background-color: var(--button-hover-bg);
            text-decoration: none;
            transform: translateY(-2px);
        }
        /* --- Footer --- */
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.9em;
            color: #888;
            border-top: 1px solid var(--border-color);
            margin-top: 1rem;
        }
        footer a {
            color: var(--accent-color);
            text-decoration: none;
        }
        /* --- Mobile-Friendly (Responsif) --- */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            h2 {
                font-size: 1.75rem;
            }
            main {
                margin: 0;
                padding: 0 1rem;
                border-radius: 0;
                box-shadow: none;
            }
             pre {
                font-size: 0.85em;
             }
        }
    </style>
    
    <meta property="og:image:alt" content="Bedah Workflow upgrade-everything.yml: Otomatis Upgrade & Cleanup Dependensi.">
    <meta itemprop="image" content="https://frijal.pages.dev/img/penjelasan-workflow-upgrade-everything-yml.webp">
    <link rel="stylesheet" href="/ext/marquee-url.css">
    <link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://frijal.pages.dev/rss.xml" />
    
    <meta name="google-adsense-account" content="ca-pub-8157928740123992">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8157928740123992" crossorigin="anonymous"></script>
</head>
<body>
    <main>
        <article>
            <header>
                <h1>ü§ñ Bedah Workflow upgrade-everything.yml</h1>
                <div id="iposbrowser"></div>
                <p style="text-align: center; font-size: 1.1rem; color: #888;">Otomatis Upgrade & Cleanup Dependensi Node.js + Bikin PR!</p>
            </header>
            <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhw4RdahPQaBd_WuWLKqam9l9sjBn6yQOo2_7bqq1v22D91zlLVMhU6-RWAYB561a-YgDWg_Gd9FdK3LI6PX5k31Q296ZMHS6-REwjVaFsjsy-pYo1tbpXBL-jwT4ZozmRditys52dPF4L7PBe1gDSpbS4WMbpLtrfQUMbi442HDWJNGUZVeSwjNTewkTE/s1600/upgradeclean.webp" alt="Ilustrasi workflow otomatis">
            
            <div class="markdown-body">
                
                ## üéØ Buat Apa Sih Workflow Ini?
                
                Mantap! Workflow GitHub Actions ini beneran keren dan dirancang buat **jaga dependensi Node.js** di proyek kamu biar **tetap update** (versi terbaru) dan **bersih** (buang yang nggak kepakai).
                
                Nggak cuma itu, setelah dia beres-beres, dia bakal **ngajuin perubahan itu sebagai Pull Request (PR)**. Jadi, kamu atau tim bisa cek dulu (review) sebelum perubahannya digabung ke kode utama. Lebih aman, kan?
                
                Enaknya lagi, workflow ini bisa kamu **jalankan manual** kapan aja kamu mau, atau **dijadwalin otomatis** jalan sebulan sekali. Jadi, urusan _maintenance_ dependensi bisa lebih enteng!
                
                ## üîé Gimana Cara Kerjanya? (Langkah demi Langkah)
                
                Workflow ini kerjaannya cukup sistematis. Ini dia urutannya:
                
                1.  **Kapan Jalan? (`on:`)**
                    -   **Manual (`workflow_dispatch`):** Kamu bisa klik tombol 'Run workflow' di tab "Actions" repositori GitHub kamu. Cocok buat ngetes atau kalau lagi pengen update sekarang juga.
                    -   **Otomatis (`schedule`):** Udah disetel buat jalan sendiri tiap **tanggal 1 jam 2 pagi UTC** (itu sekitar jam 10 pagi WITA kalau di Balikpapan). Jadi, awal bulan, dependensi proyekmu otomatis dicek.
                
                2.  **Minta Izin Dulu (`permissions:`)**
                
                    Sebelum mulai kerja, workflow ini minta izin dulu ke GitHub:
                    -   `contents: write`: Izin buat nulis ke repositori, soalnya dia bakal ngubah file `package.json` dan `package-lock.json`, terus bikin _branch_ baru buat PR.
                    -   `pull-requests: write`: Izin khusus buat bikin _Pull Request_. **Ini penting banget biar dia bisa ngajuin perubahannya!** Tanpa ini, bakal error kayak yang kamu alamin sebelumnya.
                
                    _Izin ini ditulis di level workflow dan di level job, bagus buat kejelasan!_
                
                3.  **Mulai Kerja! (`jobs: maintenance-pr`)**
                
                    Cuma ada satu pekerjaan utama di sini, yang jalan di lingkungan Linux (`ubuntu-latest`). Langkah-langkahnya:
                
                    a.  **Ambil Kode (`Checkout code`):** Ngunduh kode proyekmu ke 'meja kerja' si Actions.
                    b.  **Siapin Alat Node.js (`Setup Node.js`):** Masang Node.js versi 20 dan aktifin _cache_ npm biar instalasi dependensi bisa lebih cepet kalau nggak banyak berubah.
                    c.  **Pasang Peralatan Tambahan (`Install dependencies (untuk tools)`):** Jalankan `npm install`. Ini buat masang _tools_ yang dibutuhin workflow ini (kayak `npm-check-updates` dan `depcheck`) yang mungkin kamu daftarin di `devDependencies` di `package.json`.
                    d.  **Biar Bisa Dijalankan (`Make script executable`):** Ngasih izin biar skrip `data/cleanup.js` bisa dieksekusi.
                    e.  **Langkah 1: Upgrade! (`1. Upgrade dependencies`):**
                        * Masang `npm-check-updates` (ncu) di 'meja kerja'. _(Tips: Kalau ncu udah ada di devDependencies, pakai `npx ncu ...` mungkin lebih simpel)._
                        * Jalankan `ncu -u --target minor`. Ini perintah saktinya! Dia bakal ngecek semua dependensi di `package.json`, nyari versi **minor** dan **patch** terbaru, terus langsung **update file `package.json`** kamu. Dijamin aman dari perubahan besar (major) yang bikin pusing.
                
                    f.  **Langkah 2: Bersih-bersih! (`2. Cleanup unused packages`):**
                        * Jalankan skrip `data/cleanup.js`. Nah, skrip ini kerjaannya bersih-bersih. Kemungkinan besar dia:
                            1.  Nyari paket/dependensi yang udah nggak kepakai lagi (mungkin pakai `depcheck`).
                            2.  Nghapus paket 'sampah' itu dari `package.json` atau `node_modules`.
                            3.  Jalanin `npm install` lagi biar `node_modules` dan `package-lock.json` cocok sama `package.json` yang udah di-update dan dibersihin.
                
                    g.  **Ngecek Ada Hasil Nggak? (`Check for changes`):**
                        * Langkah cerdas nih! Dia ngecek pakai `git status`, "File `package.json` atau `package-lock.json` ada yang berubah nggak ya setelah di-upgrade dan dibersihin?".
                        * Hasilnya disimpan, apakah `true` (ada perubahan) atau `false` (nggak ada).
                
                    h.  **Tes Dulu Kalau Ada Perubahan (`Run tests`):**
                        * Ini cuma jalan kalau langkah sebelumnya bilang `true`.
                        * Dia coba jalanin perintah `npm run build` dan `npm test` (kalau ada di `package.json` kamu). **Penting banget buat mastiin update dependensi nggak bikin error.**
                
                    i.  **Bikin Laporan (PR) Kalau Ada Perubahan (`Create Pull Request`):**
                        * Ini juga cuma jalan kalau ada perubahan (dan asumsinya tes tadi lolos).
                        * Pakai action jagoan `peter-evans/create-pull-request` buat bikin PR otomatis.
                        * PR-nya dibikin rapi:
                            * Di *branch* baru biar nggak ganggu (`chore/auto-maintenance-xxxx`).
                            * Judul, pesan commit, dan deskripsinya jelas nerangin isinya (upgrade & cleanup).
                            * Dikasih label (`dependencies`, `chore`, dll).
                            * Langsung minta review ke kamu (`reviewers: frijal`).
                            * Langsung *ready*, bukan *draft*.
                
                ## ‚ú® Kerennya Workflow Ini Apa Aja?
                
                * ‚úÖ **Serba Otomatis:** Bisa jalan sendiri tiap bulan, hemat waktu kamu.
                * üîí **Upgrade Aman:** Cuma ambil versi minor & patch, risiko error kecil.
                * üßπ **Proyek Jadi Rapi:** Ada langkah bersih-bersih paket nggak kepakai.
                * üß† **Cerdas:** Cuma bikin PR kalau beneran ada yang di-update atau dibersihin.
                * üß™ **Ada Tes:** Nggak asal bikin PR, dites dulu biar nggak ngerusak.
                * üìÑ **PR Jelas:** Laporan perubahannya (PR) informatif dan gampang dimengerti.
                * üîë **Izin Lengkap:** Udah punya izin yang pas buat bikin PR (ini penting!).
                * üåø **Manajemen Branch Oke:** Bikin branch baru tiap jalan biar rapi.
                
                Secara keseluruhan, workflow `upgrade-everything.yml` dan `cleanup.js` ini adalah contoh yang **solid dan bagus** buat otomatisasi tugas _maintenance_ dependensi proyek Node.js kamu di GitHub! üëç
                
                ## üöÄ Mau Lihat Kodenya Langsung?
                
                Kamu bisa lihat kode lengkap workflow `upgrade-everything.yml` dan `cleanup.js` ini langsung dari repositori GitHub:
                
                <p style="text-align: center; margin: 2rem 0;">
                    <a href="https://github.com/frijal/LayarKosong/blob/a3f66f791106bbebdc3a87d6f185b36215000d43/.github/workflows/upgrade-everything.yml" target="_blank" rel="noopener noreferrer" class="action-button">
                        Lihat upgrade-everything.yml di GitHub
                    </a>
                    <a href="https://github.com/frijal/LayarKosong/blob/35e8d58202a1c8c235c9f36b6f0aba571e2bd99e/ext/cleanup.js" target="_blank" rel="noopener noreferrer" class="action-button">
                        Lihat cleanup.js di GitHub
                    </a>
                </p>
                
                Kamu bisa adaptasi workflow ini untuk proyek Node.js kamu yang lain. Jangan lupa sesuaikan skrip `data/cleanup.js` (kalau beda) dan nama *reviewer* di bagian PR.
                
            </div>
            <div id="disqus_thread"></div>
        </article>
    </main>
    <footer>
        <p>üÑØ 2025 <a href="https://frijal.pages.dev">frijal.pages.dev</a> | Dibuat dengan cinta dan secangkir kopi.</p>
    </footer>
    
    <div class="search-floating-container">
        <input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off">
        <span id="floatingSearchClear" class="clear-button"></span>
        <div id="floatingSearchResults" class="floating-results-container"></div>
    </div>
    <section id="related-marquee-section">
        <div id="related-marquee-container"></div>
    </section>
    
    <script defer src="/ext/marquee-url.js"></script>
    <script defer src="/ext/iposbrowser.js"></script>
    <script defer src="/ext/markdown.js"></script>
    <script defer src="/ext/disqus.js"></script>
</body>
</html>
