<html lang="id" prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JSON Batch Editor article:published_time</title>
    
<style>
body{
  font-family:system-ui,-apple-system,sans-serif;
  max-width:960px;
  margin:40px auto;
  padding:0 16px;
}
label{font-weight:600;display:block;margin-top:16px}
input,button{padding:8px 12px;margin-top:6px}
button.primary{background:#2563eb;color:#fff;border:none}
button.warn{background:#b91c1c;color:#fff;border:none}
pre{
  background:#111;
  color:#22c55e;
  padding:12px;
  max-height:260px;
  overflow:auto;
}
.diff{
  background:#0f172a;
  color:#e5e7eb;
  padding:12px;
  margin-top:12px;
  border-left:4px solid #2563eb;
}
.diff del{color:#ef4444}
.diff ins{color:#22c55e;text-decoration:none}
small{color:#555}
</style>
<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://dalam.web.id/rss.xml">
    
    
    
    
    <meta name="googlebot" content="max-image-preview:large">
    <meta name="theme-color" content="#00b0ed">
    <meta name="fediverse:creator" content="@frijal@mastodon.social">
    
    <meta name="bluesky:creator" content="@dalam.web.id">
    
    
    
    
    
    
    
    
    <meta property="fb:app_id" content="175216696195384">
    
    
    
    
    
    
    
    <meta itemprop="image" content="https://dalam.web.id/img/json-published-time-artikel-editor.webp">

    <meta property="og:locale" content="id_ID">
    <meta property="og:site_name" content="Layar Kosong">
    <link rel="icon" href="/favicon.ico">
    <link rel="canonical" href="https://dalam.web.id/artikel/json-published-time-artikel-editor">
    <meta property="og:url" content="https://dalam.web.id/artikel/json-published-time-artikel-editor">
    <meta property="og:title" content="JSON Batch Editor article:published_time">
    <meta name="description" content="Cara praktis melakukan batch edit json meta tag article:published_time untuk optimasi SEO dan manajemen konten yang lebih efisien di blog Anda.">
    <meta property="og:description" content="Cara praktis melakukan batch edit json meta tag article:published_time untuk optimasi SEO dan manajemen konten yang lebih efisien di blog Anda.">
    <meta name="author" content="Fakhrul Rijal">
    <meta name="robots" content="index, follow, max-image-preview:large"></head>
<body>
<h1>Strict ISO Date Batch Editor</h1>
<div id="iposbrowser"></div>
<small>
✔ Cari literal <code>"YYYY-MM-DDT</code><br>
✔ Ganti tanggal saja (jam &amp; timezone aman)<br>
✔ Hanya file di <code>ubahtanggal.txt</code>
</small>
<label>Tanggal Baru (YYYY-MM-DD)</label>
<input id="dateInput" placeholder="2025-12-31">
<div style="margin-top:12px">
  <button id="pickFolder">Pilih Folder HTML</button>
  <button id="pickList">Pilih ubahtanggal.txt</button>
  <button id="preview" class="primary">Preview</button>
  <button id="apply" class="warn">Terapkan</button>
</div>
<input id="folderFallback" type="file" webkitdirectory="" multiple="" hidden="">
<input id="listFallback" type="file" accept=".txt" hidden="">
<hr>
<h3>Preview Diff</h3>
<div id="diffBox"></div>
<h3>Log</h3>
<pre id="log"></pre>
<script>
let folderHandle=null;
let listHandle=null;
let listFile=null;
let fallbackFiles=[];
let allowedFiles=new Set();
let changes=[];
const logBox=document.getElementById("log");
const diffBox=document.getElementById("diffBox");
const log=m=>logBox.textContent+=m+"\n";
/* STRICT: harus ada "YYYY-MM-DDT */
const STRICT_REGEX = /"\d{4}-\d{2}-\d{2}T/g;
/* ===== PICKERS ===== */
pickFolder.onclick=async()=>{
  if(window.showDirectoryPicker){
    try{
      folderHandle=await showDirectoryPicker();
      fallbackFiles=[];
      log("✔ Folder dipilih (API)");
      return;
    }catch{}
  }
  folderFallback.click();
};
folderFallback.onchange=e=>{
  fallbackFiles=[...e.target.files];
  folderHandle=null;
  log(`✔ Folder fallback (${fallbackFiles.length} file)`);
};
pickList.onclick=async()=>{
  if(window.showOpenFilePicker){
    try{
      [listHandle]=await showOpenFilePicker({
        types:[{accept:{"text/plain":[".txt"]}}]
      });
      listFile=null;
      log("✔ ubahtanggal.txt dipilih (API)");
      return;
    }catch{}
  }
  listFallback.click();
};
listFallback.onchange=e=>{
  listFile=e.target.files[0];
  listHandle=null;
  log("✔ ubahtanggal.txt dipilih (fallback)");
};
/* ===== PREVIEW ===== */
preview.onclick=async()=>{
  diffBox.innerHTML="";
  logBox.textContent="";
  changes=[];
  allowedFiles.clear();
  const newDate=dateInput.value.trim();
  if(!/^\d{4}-\d{2}-\d{2}$/.test(newDate)){
    alert("Format tanggal harus YYYY-MM-DD");
    return;
  }
  if((!folderHandle&&!fallbackFiles.length)||(!listHandle&&!listFile)){
    alert("Folder dan ubahtanggal.txt wajib dipilih");
    return;
  }
  const txt=listHandle
    ? await (await listHandle.getFile()).text()
    : await listFile.text();
  txt.split(/\r?\n/)
     .map(v=>v.trim())
     .filter(Boolean)
     .forEach(f=>allowedFiles.add(f));
  for(const name of allowedFiles){
    try{
      let html,file;
      if(folderHandle){
        const fh=await folderHandle.getFileHandle(name);
        file=await fh.getFile();
        html=await file.text();
      }else{
        file=fallbackFiles.find(f=>f.name===name);
        if(!file){log(`⚠ Tidak ada: ${name}`);continue;}
        html=await file.text();
      }
      if(!STRICT_REGEX.test(html)){
        log(`⚠ Pola tidak ditemukan: ${name}`);
        continue;
      }
      const beforeMatches=[...html.matchAll(STRICT_REGEX)]
        .map(m=>m[0]);
      const newHtml=html.replace(
        STRICT_REGEX,
        `"${newDate}T`
      );
      const afterMatches=[...newHtml.matchAll(STRICT_REGEX)]
        .map(m=>m[0]);
      changes.push({name,html:newHtml});
      diffBox.innerHTML+=`
<div class="diff">
<strong>${name}</strong><br>
<del>${beforeMatches[0]}</del><br>
<ins>"${newDate}T</ins>
</div>`;
    }catch{
      log(`✖ Gagal proses: ${name}`);
    }
  }
  log(`Preview selesai (${changes.length} file)`);
};
/* ===== APPLY ===== */
apply.onclick=async()=>{
  if(!changes.length){
    alert("Tidak ada perubahan untuk diterapkan");
    return;
  }
  if(!confirm("Yakin menerapkan perubahan ke file?")){
    return;
  }
  for(const f of changes){
    try{
      if(folderHandle){
        const fh=await folderHandle.getFileHandle(f.name);
        const w=await fh.createWritable();
        await w.write(f.html);
        await w.close();
        log(`✔ Updated ${f.name}`);
      }else{
        const a=document.createElement("a");
        a.href=URL.createObjectURL(new Blob([f.html],{type:"text/html"}));
        a.download=f.name;
        a.click();
        log(`⬇ Download ${f.name}`);
      }
    }catch{
      log(`✖ Gagal tulis ${f.name}`);
    }
  }
};
</script>
<div id="progress"></div><a id="layar-kosong-header" href="https://dalam.web.id/"></a><div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div><div id="dynamic-nav-container" class="floating-nav"></div><div id="internal-nav"></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section>
<script defer="" src="/ext/markdown.js"></script><script defer="" src="/ext/marquee-url.js"></script><script defer="" src="/ext/iposbrowser.js"></script><script defer="" src="/ext/response.js"></script>
</body></html>