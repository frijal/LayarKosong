<!DOCTYPE html><html lang="id" prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bedah Cara Kerja Workflow Maintenance Otomatis GitHub Actions</title>
    
    <meta name="news_keywords" content="GitHub Actions, DevOps, Automasi, Web Development, Tutorial, Coding, CI/CD">
    <link rel="stylesheet" href="/ext/fontawesome.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/atom-one-dark.min.css">
    <style>
        /* CSS Variables untuk Tema Otomatis */
        :root {
            --bg-color: #ffffff;
            --text-color: #374151;
            --heading-color: #111827;
            --link-color: #2563eb;
            --code-bg: #282c34; /* Dark bg for code block override */
            --border-color: #e5e7eb;
            --quote-bg: #eff6ff;
            --quote-border: #3b82f6;
            --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #0f172a;
                --text-color: #cbd5e1;
                --heading-color: #f8fafc;
                --link-color: #60a5fa;
                --border-color: #334155;
                --quote-bg: #1e3a8a;
                --quote-border: #60a5fa;
                --card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
            }
        }
        /* Reset & Base Styles */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.7;
            font-size: 18px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        /* Layout */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        /* Typography */
        h1, h2, h3 {
            color: var(--heading-color);
            margin-bottom: 1rem;
            margin-top: 2.5rem;
            line-height: 1.3;
        }
        h1 { font-size: 2.5rem; font-weight: 800; margin-top: 0; border-bottom: 2px solid var(--border-color); padding-bottom: 20px; }
        h2 { font-size: 1.8rem; border-left: 5px solid var(--link-color); padding-left: 15px; }
        h3 { font-size: 1.4rem; font-weight: 600; display: flex; align-items: center; gap: 10px; }
        p, ul, ol { margin-bottom: 1.5rem; }
        a { color: var(--link-color); text-decoration: none; font-weight: 500; }
        a:hover { text-decoration: underline; }
        ul { padding-left: 20px; list-style-type: none; }
        ul li { margin-bottom: 10px; position: relative; padding-left: 25px; }
        ul li::before {
            content: "\f058";
            font-family: "Font Awesome 7 Free";
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--link-color);
        }
        /* Images */
        .main-image {
            width: 100%;
            height: auto;
            border-radius: 12px;
            margin: 30px 0;
            box-shadow: var(--card-shadow);
        }
        /* Code Wrapper & Highlight JS overrides */
        .code-wrapper {
            position: relative;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: var(--card-shadow);
            overflow: hidden;
        }
        /* Header kecil di atas code block */
        .code-header {
            background-color: #21252b;
            color: #abb2bf;
            padding: 8px 15px;
            font-size: 0.85rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3e4451;
        }
        .copy-btn {
            background: transparent;
            border: 1px solid #5c6370;
            color: #abb2bf;
            border-radius: 4px;
            padding: 2px 8px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .copy-btn:hover { background: #3e4451; color: white; }
        pre { margin: 0; }
        pre code.hljs {
            padding: 20px;
            font-family: "Menlo", "Consolas", "Monaco", monospace;
            font-size: 0.9em;
            line-height: 1.5;
            border-radius: 0 0 8px 8px; /* round bottom corners */
        }
        /* Inline Code styling for text */
        .inline-code {
            background-color: rgba(125, 125, 125, 0.15);
            color: var(--link-color);
            padding: 2px 5px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
        }
        /* Quote/Note Box */
        blockquote {
            background-color: var(--quote-bg);
            border-left: 5px solid var(--quote-border);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }
        /* Footer */
        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
            text-align: center;
            font-size: 0.9rem;
            color: #888;
        }
        /* Mobile Adjustments */
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .container { padding: 20px 15px; }
            pre code.hljs { font-size: 0.8em; padding: 15px; }
        }
    </style>
<link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://dalam.web.id/rss.xml">
<meta name="ai:summary" content="Penjelasan mendalam dan santai tentang cara kerja script GitHub Actions untuk update dependencies, sinkronisasi aset, dan verifikasi keamanan otomatis.">
<meta name="ai:prompt_hint" content="Penjelasan mendalam dan santai tentang cara kerja script GitHub Actions untuk update dependencies, sinkronisasi aset, dan verifikasi keamanan otomatis.">
    
    
    
    
    <meta name="googlebot" content="max-image-preview:large">
    <meta name="theme-color" content="#00b0ed">
    <meta name="fediverse:creator" content="@frijal@mastodon.social">
    
    <meta name="bluesky:creator" content="@dalam.web.id">
    
    
    
    
    
    
    
    
    <meta property="fb:app_id" content="175216696195384">
    
    
    
    
    
    
    
    <meta itemprop="image" content="https://dalam.web.id/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEinJZ2ARfyIYR5sgIB5OjxFYsrldiz1eMCc1B23czdeHkNq7SjUxfw46U1DHWCqZXfC6GZtMXDX0wSr983igIq93S5v4ZF8ztHliBOXM4A-dhOwCRWH2A-VijMSGdu2y5tUlKL3eun2FI8xT3D9qLYCurchd5VcwRBQmPYby0Ju4_OZFBda5e5v0lHDhAo/s1600/maintenance.webp">

    <meta property="og:locale" content="id_ID">
    <meta property="og:site_name" content="Layar Kosong">
    <link rel="icon" href="/favicon.ico">
    <link rel="canonical" href="https://dalam.web.id/artikel/cara-kerja-github-workflow-maintenance">
    <meta property="og:url" content="https://dalam.web.id/artikel/cara-kerja-github-workflow-maintenance">
    <meta property="og:title" content="Bedah Cara Kerja Workflow Maintenance Otomatis GitHub Actions">
    <meta name="description" content="Penjelasan mendalam dan santai tentang cara kerja script GitHub Actions untuk update dependencies, sinkronisasi aset, dan verifikasi keamanan otomatis.">
    <meta property="og:description" content="Penjelasan mendalam dan santai tentang cara kerja script GitHub Actions untuk update dependencies, sinkronisasi aset, dan verifikasi keamanan otomatis.">
    <meta name="author" content="Fakhrul Rijal">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta property="og:image" content="/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEinJZ2ARfyIYR5sgIB5OjxFYsrldiz1eMCc1B23czdeHkNq7SjUxfw46U1DHWCqZXfC6GZtMXDX0wSr983igIq93S5v4ZF8ztHliBOXM4A-dhOwCRWH2A-VijMSGdu2y5tUlKL3eun2FI8xT3D9qLYCurchd5VcwRBQmPYby0Ju4_OZFBda5e5v0lHDhAo/s1600/maintenance.webp">
    <meta name="twitter:card" content="summary_large_image"></head>
<body>
    <div class="container">
        <h1>Bedah Workflow: Bot Pemeliharaan Otomatis</h1>
<div id="iposbrowser"></div>
        <p>
            Halo Devs! <i class="fa-regular fa-hand-spock"></i> Pernah nggak sih ngerasa males banget kalau harus update dependency satu-satu? Atau ribet download ulang file CSS/JS dari pihak ketiga biar website tetap ngebut tanpa request ke server orang lain melulu?
        </p>
        <p>
            Nah, kode workflow GitHub Actions yang kamu lihat itu adalah jawabannya. Ini adalah semacam <strong>"Asisten Rumah Tangga Digital"</strong> yang bakal bangun sebulan sekali buat bersih-bersih, ngecat ulang, dan cek keamanan rumah (website) kamu.
        </p>
        <img src="/img/blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEinJZ2ARfyIYR5sgIB5OjxFYsrldiz1eMCc1B23czdeHkNq7SjUxfw46U1DHWCqZXfC6GZtMXDX0wSr983igIq93S5v4ZF8ztHliBOXM4A-dhOwCRWH2A-VijMSGdu2y5tUlKL3eun2FI8xT3D9qLYCurchd5VcwRBQmPYby0Ju4_OZFBda5e5v0lHDhAo/s1600/maintenance.webp" alt="Ilustrasi Maintenance Otomatis" class="main-image">
        <p>
            Sebelum kita bedah penjelasannya, berikut adalah <strong>kode lengkapnya</strong> (YAML). Kamu bisa salin dan adaptasi buat project kamu sendiri.
        </p>
        <div class="code-wrapper">
            <div class="code-header">
                <span><i class="fa-brands fa-github"></i> .github/workflows/perawatan-paket.yml</span>
                <button class="copy-btn" onclick="copyCode()">Salin Kode</button>
            </div>
<pre><code class="language-yaml" id="workflow-code">name: üõ†Ô∏è Pemeliharaan Dependensi Aplikasi Terpasang
on:
  workflow_dispatch:
  schedule:
    - cron: '0 1 9 * *' # setiap tanggal 9 pukul 01:00 UTC (08:00 WIB)
jobs:
  maintenance-pr:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - name: üß© Checkout kode
        uses: actions/checkout@v4
      - name: ‚öôÔ∏è Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: npm
      - name: üíæ Cache NPM
        uses: actions/cache@v4
        with:
          path: ~/.npm
          key: npm-${{ hashFiles('package-lock.json') }}
          restore-keys: npm-
      - name: üì¶ Install &amp; Upgrade Dependencies
        run: |
          npm ci || npm install
          npm install -g npm-check-updates
          ncu -u --target minor
          echo "‚úÖ Dependencies diupgrade."
      - name: üåà Update Assets Highlight.js &amp; Font Awesome
        run: |
          mkdir -p ext mini
          npm install @highlightjs/cdn-assets@latest @fortawesome/fontawesome-free@latest --no-save
          # Highlight.js JS &amp; CSS (CSS selalu dari CDN versi terbaru)
          cp node_modules/@highlightjs/cdn-assets/highlight.min.js ext/highlight.js
          HLJS_LATEST=$(npm view @highlightjs/cdn-assets version)
          curl -s -o ext/default.min.css https://cdnjs.cloudflare.com/ajax/libs/highlight.js/$HLJS_LATEST/styles/default.min.css
          # Font Awesome
          mkdir -p ext/fontawesome-webfonts
          cp -f node_modules/@fortawesome/fontawesome-free/webfonts/* ext/fontawesome-webfonts/
          cp node_modules/@fortawesome/fontawesome-free/css/all.min.css ext/fontawesome.css
          sed -i 's|\.\./webfonts/|./fontawesome-webfonts/|g' ext/fontawesome.css
          DATE_NOW=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
          echo -e "hljs=$HLJS_LATEST\nfontawesome=$(npm view @fortawesome/fontawesome-free version)\nupdated=$DATE_NOW" &gt; mini/asset-info.txt
      - name: üîç Verifikasi Font Awesome
        run: |
          mkdir -p mini
          FONT_DIR="ext/fontawesome-webfonts"
          OUTPUT="mini/fontawesome-verify.txt"
          PREV="mini/fontawesome-verify-prev.txt"
          ALERT="mini/fontawesome-alert.txt"
          [ -f "$OUTPUT" ] &amp;&amp; cp "$OUTPUT" "$PREV"
          echo "üìÑ Font + ukuran + hash SHA-256:" &gt; "$OUTPUT"
          find "$FONT_DIR" -type f \( -name "*.woff" -o -name "*.woff2" -o -name "*.ttf" \) | sort | while read f; do
            echo "$(basename "$f")|$(stat -c%s "$f")|$(sha256sum "$f" | awk '{print $1}')" &gt;&gt; "$OUTPUT"
          done
          if [ -f "$PREV" ]; then
            diff=$(diff -u "$PREV" "$OUTPUT" || true)
            [ -n "$diff" ] &amp;&amp; echo -e "üö® Perubahan font:\n$diff" &gt; "$ALERT" &amp;&amp; echo "alert=true" &gt;&gt; $GITHUB_OUTPUT || echo "alert=false" &gt;&gt; $GITHUB_OUTPUT
          else
            echo "alert=false" &gt;&gt; $GITHUB_OUTPUT
          fi
      - name: üß™ Audit, Lint &amp; Test
        run: |
          npm audit --omit=dev || true
          npm run lint --if-present || true
          npm run test --if-present || true
      - name: üîç Cek perubahan akhir &amp; PR
        id: check_changes
        run: |
          [[ $(git status --porcelain package.json package-lock.json ext mini) ]] &amp;&amp; echo "changes_detected=true" &gt;&gt; $GITHUB_OUTPUT || echo "changes_detected=false" &gt;&gt; $GITHUB_OUTPUT
      - name: üì® Buat Pull Request
        if: steps.check_changes.outputs.changes_detected == 'true'
        uses: peter-evans/create-pull-request@v6
        with:
          branch: chore/auto-maintenance-${{ github.run_id }}
          title: 'chore: Auto Maintenance (Deps + Assets + Font Integrity)'
          commit-message: 'chore: upgrade deps, sync Highlight.js &amp; Font Awesome, verify font hash'
          body: |
            üîß **Pemeliharaan Otomatis Compact**
            Perubahan:
            - Upgrade Dependencies
            - Highlight.js JS &amp; CSS (CSS selalu versi terbaru)
            - Font Awesome + verifikasi SHA-256 font
            - Audit &amp; Lint
            ${{ steps.check_changes.outputs.changes_detected == 'true' &amp;&amp; 'üö® Perubahan terdeteksi pada font/asset!' || '‚úÖ Semua asset aman.' }}
          labels: dependencies, chore, automated
          reviewers: frijal
          draft: false
      - name: ‚ÑπÔ∏è Tidak ada perubahan
        if: steps.check_changes.outputs.changes_detected == 'false'
        run: echo "üí§ Tidak ada perubahan signifikan."</code></pre>
        </div>
        <p>
            Yuk, kita bedah baris demi baris, kenapa workflow ini <em>powerful</em> banget buat proyek jangka panjang.
        </p>
        <h2>1. Kapan Bot Ini Bangun? (Triggers)</h2>
        <p>
            Bayangkan kamu punya alarm yang diset otomatis. Di sini ada dua pemicu utama:
        </p>
        <ul>
            <li><strong>Manual (<span class="inline-code">workflow_dispatch</span>):</strong> Tombol darurat. Kalau kamu lagi pengen update sekarang juga tanpa nunggu jadwal, kamu bisa klik tombol "Run Workflow" di GitHub.</li>
            <li><strong>Terjadwal (<span class="inline-code">schedule</span>):</strong> Ini sihirnya. Kode <span class="inline-code">cron: '0 1 9 * *'</span> artinya bot ini bakal jalan otomatis setiap <strong>tanggal 9, jam 01:00 UTC</strong> (atau jam 08:00 pagi WIB). Pas kamu lagi ngopi pagi, dia udah kerja!</li>
        </ul>
        <h2>2. Menyiapkan Bengkel (Setup Job)</h2>
        <p>
            Sebelum mulai kerja, bot butuh komputer (virtual machine). Di sini dia meminjam komputer Linux (<span class="inline-code">ubuntu-latest</span>).
        </p>
        <p>
            Hal penting di sini adalah bagian <strong>Permissions</strong>. Kita ngasih izin <span class="inline-code">write</span> ke bot supaya dia boleh ngubah kode kita dan bikin Pull Request. Tanpa izin ini, dia cuma bisa nonton doang, nggak bisa kerja.
        </p>
        <h2>3. Update "Oli &amp; Sparepart" (Dependencies)</h2>
        <h3><i class="fa-solid fa-boxes-packing"></i> Install &amp; Caching</h3>
        <p>
            Pertama, dia install Node.js versi 20. Biar nggak lemot, dia pakai fitur <strong>Cache</strong>. Jadi kalau file <span class="inline-code">package-lock.json</span> nggak berubah, dia nggak perlu download ulang ribuan file dari internet. Hemat kuota GitHub!
        </p>
        <h3><i class="fa-solid fa-arrow-up-right-dots"></i> The Smart Upgrade</h3>
        <p>
            Ini langkah cerdasnya. Dia menjalankan perintah:
        </p>
        <pre><code class="language-bash">npm ci || npm install
npm install -g npm-check-updates
ncu -u --target minor</code></pre>
        <p>
            Kenapa pakai <span class="inline-code">--target minor</span>? Karena kita cari aman.
            <br>
            Misal library versi <span class="inline-code">1.2.0</span> jadi <span class="inline-code">1.3.0</span> (Minor) itu oke. Tapi kalau jadi <span class="inline-code">2.0.0</span> (Major), biasanya ada kode yang rusak (breaking changes). Bot ini cuma update yang aman-aman aja.
        </p>
        <h2>4. Belanja Aset Baru (Highlight.js &amp; Font Awesome)</h2>
        <p>
            Bagian ini favorit saya! <i class="fa-solid fa-heart"></i> Daripada loading website kamu berat karena manggil file dari CDN orang lain (yang bisa aja down), script ini mendownload asetnya ke folder lokal.
        </p>
        <blockquote>
            <i class="fa-solid fa-lightbulb"></i> <strong>Trik Pro:</strong> Script ini mendownload CSS <em>Highlight.js</em> langsung dari CDN tapi menyimpannya sebagai file lokal. Jadi versinya selalu sinkron sama file JS-nya. Anti belang!
        </blockquote>
        <p>
            Untuk <strong>Font Awesome</strong>, dia melakukan operasi bedah plastik:
        </p>
        <ol>
            <li>Ambil semua font (.woff, .ttf).</li>
            <li>Ambil file CSS.</li>
            <li>Pakai perintah <span class="inline-code">sed</span> (stream editor) buat ngedit jalur font di dalam CSS supaya nggak nyasar. Keren kan? Semuanya otomatis!</li>
        </ol>
        <h2>5. Satpam Digital (Verifikasi Hash)</h2>
        <h3><i class="fa-solid fa-fingerprint"></i> Cek Keaslian Font</h3>
        <p>
            Pernah dengar serangan siber di mana file font disusupi virus? Script ini melakukan pengecekan <strong>SHA-256 Hash</strong>.
        </p>
        <p>
            Setiap file font dihitung "sidik jarinya". Kalau besok sidik jarinya berubah padahal versinya sama, berarti file itu korup atau ada yang ngutak-ngatik. Bot bakal teriak "üö® Perubahan font!" di laporan akhirnya. Ini level keamanannya udah <em>next level</em>.
        </p>
        <h2>6. Quality Control (Lint &amp; Audit)</h2>
        <p>
            Sebelum lapor ke bos, bot harus yakin kerjanya bener.
        </p>
        <ul>
            <li><span class="inline-code">npm audit</span>: Ngecek ada celah keamanan nggak di library yang baru diupdate.</li>
            <li><span class="inline-code">npm run lint</span>: Ngecek kerapian kode.</li>
            <li><span class="inline-code">npm run test</span>: Jalanin tes aplikasi.</li>
        </ul>
        <p>
            Perhatikan ada <span class="inline-code">|| true</span> di ujung perintah. Itu artinya: <em>"Kalau ada error dikit, jangan langsung mogok kerja, lanjut dulu sampai bikin laporan."</em>
        </p>
        <h2>7. Laporan ke Bos (Pull Request)</h2>
        <p>
            Langkah terakhir! Script bakal ngecek pakai <span class="inline-code">git status</span>.
        </p>
        <ul>
            <li><strong>Kalau sepi (Clean):</strong> Dia bakal bilang "üí§ Tidak ada perubahan signifikan" terus tidur lagi.</li>
            <li><strong>Kalau ada beda:</strong> Dia pakai action <span class="inline-code">peter-evans/create-pull-request</span> buat bikin PR.</li>
        </ul>
        <p>
            PR-nya pun rapi banget. Judulnya jelas, isinya ngasih tau apa aja yang diubah, bahkan mention reviewer (si <span class="inline-code">frijal</span>) buat ngecek. Labelnya juga otomatis dikasih <span class="inline-code">dependencies</span> dan <span class="inline-code">automated</span>.
        </p>
        <hr style="margin: 40px 0; border: 0; border-top: 1px dashed var(--border-color);">
        <h3>Kesimpulan</h3>
        <p>
            Workflow ini bukan sekadar script update biasa. Ini adalah sistem pemeliharaan mandiri yang <strong>Aman</strong> (cek hash &amp; audit), <strong>Efisien</strong> (caching &amp; local assets), dan <strong>Cerdas</strong> (minor update only).
        </p>
        <p>
            Implementasi script kayak gini di repo kamu bakal bikin hidup lebih tenang. Nggak ada lagi cerita website error karena lupa update library 2 tahun! <i class="fa-solid fa-face-laugh-wink"></i>
        </p>
        <div id="diskus"></div><div id="related-articles-grid"></div>
        <footer>
            <p>üÑØ 2025 Jaga Data Pribadi Tetap Aman. Dibuat dengan <i class="fa-solid fa-code"></i> dan <i class="fa-solid fa-coffee"></i>.</p>
            <p>
                <a href="https://facebook.com/frijal"><i class="fa-brands fa-facebook"></i></a> &nbsp;
                <a href="https://github.com/frijal/LayarKosong"><i class="fa-brands fa-github"></i></a> &nbsp;
                <a href="https://dalam.web.id/feed"><i class="fa-solid fa-rss"></i></a>
            </p>
        </footer>
    </div>
    <script src="/ext/highlight.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/yaml.min.js" defer=""></script>
    <script>
        // Init Highlight.js
        hljs.highlightAll();
        // Fitur Copy Code Sederhana
        function copyCode() {
            const code = document.getElementById('workflow-code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.innerText;
                btn.innerText = 'Tersalin! ‚úÖ';
                setTimeout(() => {
                    btn.innerText = originalText;
                }, 2000);
            });
        }
    </script>
<div id="progress"></div><a id="layar-kosong-header" href="https://dalam.web.id/"></a><div class="search-floating-container"><input type="text" id="floatingSearchInput" placeholder="cari artikel..." autocomplete="off"><span id="floatingSearchClear" class="clear-button"></span><div id="floatingSearchResults" class="floating-results-container"></div></div><div id="dynamic-nav-container" class="floating-nav"></div><div id="internal-nav"></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section>
    <script defer="" src="/ext/markdown.js"></script><script defer="" src="/ext/marquee-url.js"></script><script defer="" src="/ext/iposbrowser.js"></script><script defer="" src="/ext/diskus.js"></script>
</body></html>