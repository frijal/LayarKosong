<!DOCTYPE html><html lang="id" prefix="og: https://ogp.me/ns# article: https://ogp.me/ns/article#"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor Artikel JSON Pro - Kelola Konten Layar Kosong</title>
    <meta name="description" content="Alat editor JSON khusus untuk mengelola database artikel.json dengan mudah, cepat, dan aman. Fitur edit kategori, artikel, dan ekspor data presisi.">
    <meta name="keywords" content="JSON Editor, Artikel Manager, Web Tools, Layar Kosong, Manajemen Konten">
    <meta name="news_keywords" content="JSON, Editor, Web Development, Content Management, Tools">
    <link rel="stylesheet" href="/ext/fontawesome.css"><link rel="stylesheet" href="/ext/marquee-url.css"><link rel="alternate" type="application/rss+xml" title="30 artikel baru bikin." href="https://dalam.web.id/rss.xml">
    <link rel="canonical" href="https://dalam.web.id/artikel/editor-json-pro">
    <link rel="icon" href="/favicon.ico"><link rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/">
    <meta name="author" content="Fakhrul Rijal">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="googlebot" content="max-image-preview:large">
    <meta name="theme-color" content="#00b0ed">
    <meta name="fediverse:creator" content="@frijal@mastodon.social">
    <meta name="twitter:creator" content="@responaja">
    <meta name="bluesky:creator" content="@dalam.web.id">
    <meta property="og:site_name" content="Layar Kosong">
    <meta property="og:locale" content="id_ID">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://dalam.web.id/artikel/editor-json-pro">
    <meta property="og:title" content="Editor Artikel JSON Pro - Kelola Konten Layar Kosong">
    <meta property="og:description" content="Alat editor JSON khusus untuk mengelola database artikel.json dengan mudah, cepat, dan aman. Fitur edit kategori, artikel, dan ekspor data presisi.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@responaja">
    <meta property="fb:app_id" content="175216696195384">
    <meta property="article:author" content="https://facebook.com/frijal">
    <meta property="article:publisher" content="https://facebook.com/frijalpage">
    <meta property="og:image" content="https://dalam.web.id/img/editor-json-pro.webp">
    <meta property="og:image:alt" content="Editor Artikel JSON Pro - Kelola Konten Layar Kosong">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="675">
    <meta name="twitter:image" content="https://dalam.web.id/img/editor-json-pro.webp">
    <meta itemprop="image" content="https://dalam.web.id/img/editor-json-pro.webp">
    <style>
        :root {
            --lk-color: #00b0ed;
            --bg-body: #f8f9fa;
            --text-main: #212529;
            --card-bg: #ffffff;
            --border-color: #dee2e6;
            --input-bg: #ffffff;
            --modal-overlay: rgba(0,0,0,0.5);
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-body: #121212;
                --text-main: #e0e0e0;
                --card-bg: #1e1e1e;
                --border-color: #333;
                --input-bg: #2d2d2d;
                --modal-overlay: rgba(0,0,0,0.8);
            }
        }
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        .container { max-width: 100%; padding: 0 15px; margin: 0 auto; }
        h1, h2, h3 { margin-top: 0; color: var(--lk-color); }
        .toolbar {
            display: flex; gap: 10px; flex-wrap: wrap; align-items: center;
            margin-bottom: 20px; padding: 15px; background: var(--card-bg);
            border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: sticky; top: 0; z-index: 100; border: 1px solid var(--border-color);
        }
        .search-wrapper { flex-grow: 1; position: relative; min-width: 250px; }
        .search-wrapper i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); opacity: 0.5; }
        #searchInput {
            width: 100%; padding: 10px 10px 10px 35px; border-radius: 8px;
            border: 1px solid var(--border-color); background: var(--input-bg);
            color: var(--text-main); font-size: 1rem;
        }
        /* Memberi highlight pada item yang terpilih */
.article-item:has(.item-checkbox:checked) {
    background: rgba(0, 176, 237, 0.05);
    border-left: 4px solid var(--lk-color);
}
        .btn {
            padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer;
            font-weight: 600; display: inline-flex; align-items: center; gap: 8px;
            transition: transform 0.1s; text-decoration: none; font-size: 0.9rem;
        }
        .btn:active { transform: scale(0.98); }
        .btn-primary { background: var(--lk-color); color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .btn-info { background: #17a2b8; color: white; }
        input[type="file"] { display: none; }
        .category-block { background: var(--card-bg); margin-bottom: 20px; border-radius: 12px; border: 1px solid var(--border-color); overflow: hidden; }
        .category-header {
            padding: 15px 20px; background: rgba(0, 176, 237, 0.1);
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border-color);
        }
        .article-list { padding: 0; margin: 0; list-style: none; }
        .article-item {
            padding: 15px 20px; border-bottom: 1px solid var(--border-color);
            display: flex; align-items: flex-start; gap: 15px; transition: background 0.2s;
        }
        .article-item:hover { background: rgba(0,0,0,0.02); }
        .article-thumb { width: 80px; height: 60px; object-fit: cover; border-radius: 6px; background: #ccc; flex-shrink: 0; }
        .article-details { flex: 1; min-width: 0; }
        .article-details h4 { margin: 0 0 5px 0; font-size: 1rem; }
        .article-meta { font-size: 0.85rem; opacity: 0.7; }
        .article-desc { font-size: 0.9rem; margin-top: 5px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; opacity: 0.8; }
        .action-group { display: flex; gap: 5px; flex-shrink: 0; }

        /* Modal */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--modal-overlay); z-index: 1000; justify-content: center;
            align-items: center; padding: 20px;
        }
        .modal.active { display: flex; }
        .modal-content {
            background: var(--card-bg); padding: 25px; border-radius: 12px;
            width: 100%; max-width: 600px; max-height: 90vh; overflow-y: auto;
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-control {
            width: 100%; padding: 10px; border-radius: 6px; border: 1px solid var(--border-color);
            background: var(--input-bg); color: var(--text-main);
        }

        /* Bulk Action Tray */
        #bulkActionTray {
            display: none; position: fixed; bottom: 30px; left: 50%;
            transform: translateX(-50%); background: #222; color: white;
            padding: 12px 25px; border-radius: 50px; z-index: 1001;
            align-items: center; gap: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid #444;
        }

        /* Checkbox Custom Styling */
        .check-container { display: flex; align-items: center; padding-right: 5px; }
        .check-container input { width: 18px; height: 18px; cursor: pointer; }

        .narrative { background: var(--card-bg); padding: 30px; border-radius: 12px; margin-top: 40px; border: 1px solid var(--border-color); }
        footer { margin-top: 50px; text-align: center; opacity: 0.6; font-size: 0.9rem; padding-bottom: 20px; }

        @media (max-width: 768px) {
            .toolbar { flex-direction: column; align-items: stretch; }
            .article-item { flex-direction: column; }
            .article-thumb { width: 100%; height: 150px; }
            #bulkActionTray { width: 90%; flex-direction: column; border-radius: 15px; bottom: 10px; }
        }
    </style>
</head>
<body>
<div class="container">
    <header style="margin-bottom: 30px;">
        <h1 style="text-align:center;"><i class="fa-solid fa-file-code"></i> Editor Artikel JSON Pro</h1>
        <p style="text-align:center;">Kelola database artikel Layar Kosong dengan mudah, cepat, dan presisi. üöÄ</p>
    </header>

    <div class="toolbar">
        <label for="fileInput" class="btn btn-primary" title="Upload file .json">
            <i class="fa-solid fa-folder-open"></i> Buka JSON
        </label>
        <input type="file" id="fileInput" accept=".json">
        <button class="btn btn-success" onclick="downloadJSON()" title="Download hasil edit">
            <i class="fa-solid fa-download"></i> Simpan
        </button>
        <button class="btn btn-secondary" onclick="openCategoryModal()" title="Buat Kategori Baru">
            <i class="fa-solid fa-folder-plus"></i> Kategori
        </button>
        <div class="search-wrapper">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input type="text" id="searchInput" placeholder="Cari artikel, file, atau tanggal..." onkeyup="filterArticles()">
        </div>
        <span id="statusText" style="margin-left: auto; font-size: 0.9rem; opacity: 0.7;">
            <i class="fa-solid fa-circle-info"></i> Menunggu file...
        </span>
    </div>

    <div id="editor-area">
        <div style="text-align: center; padding: 50px; opacity: 0.5;">
            <i class="fa-solid fa-box-open fa-3x"></i>
            <p>Belum ada data. Silakan upload file <code>artikel.json</code> kamu.</p>
        </div>
    </div>

    <div id="bulkActionTray">
        <span style="font-size:0.9rem; font-weight:bold;"><i class="fa-solid fa-check-double"></i> <span id="selectedCount">0</span> Item</span>
        <button class="btn btn-info" style="padding: 6px 15px;" onclick="openBulkMoveModal()">Pindah</button>
        <button class="btn btn-danger" style="padding: 6px 15px;" onclick="bulkDelete()">Hapus</button>
    </div>

    <section class="narrative">
        <h2>üßê Fitur Massal Baru!</h2>
        <p>Sekarang kamu bisa menghapus atau memindahkan banyak artikel sekaligus. Cukup centang artikel yang diinginkan, dan panel perintah akan muncul di bawah layar. Hemat waktu, anti ribet!</p>
    </section>

    <footer>
        <hr>
        <p>üÑØ 2026 Layar Kosong. Dibuat dengan ‚ù§Ô∏è di Balikpapan.</p>
    </footer>
</div>

<div class="modal" id="articleModal">
    <div class="modal-content">
        <h3 id="modalTitle">Edit Artikel</h3>
        <input type="hidden" id="editCategoryKey">
        <input type="hidden" id="editArticleIndex">
        <div class="form-group"><label>Judul Artikel</label><input type="text" id="inpTitle" class="form-control"></div>
        <div class="form-group"><label>Nama File (HTML)</label><input type="text" id="inpFilename" class="form-control"></div>
        <div class="form-group"><label>URL Gambar</label><input type="text" id="inpImage" class="form-control"></div>
        <div class="form-group"><label>Tanggal (ISO)</label><input type="text" id="inpDate" class="form-control"></div>
        <div class="form-group"><label>Deskripsi Singkat</label><textarea id="inpDesc" class="form-control" rows="3"></textarea></div>
        <div style="text-align: right; margin-top: 20px;">
            <button class="btn btn-secondary" onclick="closeModal('articleModal')">Batal</button>
            <button class="btn btn-primary" onclick="saveArticleChange()">Simpan</button>
        </div>
    </div>
</div>

<div class="modal" id="categoryModal">
    <div class="modal-content">
        <h3>Kelola Kategori</h3>
        <input type="hidden" id="oldCategoryName">
        <div class="form-group"><label>Nama Kategori</label><input type="text" id="inpCategoryName" class="form-control"></div>
        <div style="text-align: right; margin-top: 20px;">
            <button class="btn btn-secondary" onclick="closeModal('categoryModal')">Batal</button>
            <button class="btn btn-primary" onclick="saveCategoryChange()">Simpan</button>
        </div>
    </div>
</div>

<div class="modal" id="bulkMoveModal">
    <div class="modal-content">
        <h3>Pindahkan ke Kategori:</h3>
        <div class="form-group">
            <label>Pilih Tujuan</label>
            <select id="moveCategorySelect" class="form-control"></select>
        </div>
        <div style="text-align: right; margin-top: 20px;">
            <button class="btn btn-secondary" onclick="closeModal('bulkMoveModal')">Batal</button>
            <button class="btn btn-success" onclick="confirmBulkMove()">Eksekusi Perpindahan</button>
        </div>
    </div>
</div>

<script>
    let jsonData = {};
    let selectedItems = [];

    // 1. File Upload
    document.getElementById('fileInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
            try {
                jsonData = JSON.parse(e.target.result);
                document.getElementById('statusText').innerHTML = `<i class="fa-solid fa-file-circle-check"></i> ${file.name}`;
                renderEditor();
            } catch (err) { alert("Format JSON salah! " + err); }
        };
        reader.readAsText(file);
    });

    // 2. Render UI
    function renderEditor() {
        const container = document.getElementById('editor-area');
        container.innerHTML = '';
        selectedItems = [];
        updateBulkTray();

        for (const [category, articles] of Object.entries(jsonData)) {
            const catBlock = document.createElement('div');
            catBlock.className = 'category-block';
            catBlock.dataset.category = category.toLowerCase();

            let headerHTML = `
                <div class="category-header">
                    <div style="display:flex; align-items:center; gap:12px;">
                        <input type="checkbox" style="width:18px; height:18px;" onclick="toggleCategorySelect('${category}', this)">
                        <h2 class="category-title">${category}</h2>
                        <span style="opacity:0.6; font-size:0.9rem;">(${articles.length})</span>
                    </div>
                    <div class="action-group">
                        <button class="btn btn-sm btn-secondary" onclick="editCategory('${category}')"><i class="fa-solid fa-pen"></i></button>
                        <button class="btn btn-sm btn-danger" onclick="deleteCategory('${category}')"><i class="fa-solid fa-trash"></i></button>
                        <button class="btn btn-sm btn-success" onclick="openAddArticleModal('${category}')"><i class="fa-solid fa-plus"></i></button>
                    </div>
                </div>
                <ul class="article-list">
            `;

            let articlesHTML = '';
            articles.forEach((article, index) => {
                const title = article[0] || "Tanpa Judul";
                const imgDisplay = article[2]?.startsWith('http') ? article[2] : '';
                const articleUrl = `https://dalam.web.id/artikel/${article[1]}`;

                articlesHTML += `
                    <li class="article-item" data-search="${(title + ' ' + article[1]).toLowerCase()}">
                        <div class="check-container">
                            <input type="checkbox" class="item-checkbox" data-cat="${category}" data-idx="${index}" onchange="handleItemSelect()">
                        </div>
                        <img src="${imgDisplay}" class="article-thumb" loading="lazy">
                        <div class="article-details">
                            <h4>${title}</h4>
                            <div class="article-meta">
                                <i class="fa-regular fa-clock"></i> ${article[3]} &nbsp;|&nbsp;
                                <i class="fa-regular fa-file-code"></i> ${article[1]}
                            </div>
                            <p class="article-desc">${article[4]}</p>
                        </div>
                        <div class="action-group">
                            <a href="${articleUrl}" target="_blank" class="btn btn-info" style="padding:5px 12px;"><i class="fa-solid fa-eye"></i></a>
                            <button class="btn btn-secondary" style="padding:5px 12px;" onclick="openEditArticleModal('${category}', ${index})"><i class="fa-solid fa-pen-to-square"></i></button>
                            <button class="btn btn-danger" style="padding:5px 12px;" onclick="deleteArticle('${category}', ${index})"><i class="fa-solid fa-trash-can"></i></button>
                        </div>
                    </li>
                `;
            });

            if (articles.length === 0) articlesHTML = '<li style="padding:20px; text-align:center; opacity:0.5;">Kategori kosong.</li>';
            catBlock.innerHTML = headerHTML + articlesHTML + '</ul>';
            container.appendChild(catBlock);
        }
        filterArticles();
    }

    // --- LOGIKA BULK ACTIONS ---
    function handleItemSelect() {
        const checks = document.querySelectorAll('.item-checkbox:checked');
        selectedItems = Array.from(checks).map(c => ({
            cat: c.dataset.cat,
            idx: parseInt(c.dataset.idx)
        }));
        updateBulkTray();
    }

// Memastikan hanya artikel yang "tampil" (hasil filter) yang akan tercentang
function toggleCategorySelect(cat, master) {
    // Cari semua checkbox item di dalam blok kategori yang spesifik
    const items = document.querySelectorAll(`.item-checkbox[data-cat="${cat}"]`);

    items.forEach(checkbox => {
        // Ambil elemen parent (li) untuk cek apakah dia sedang di-hide oleh filter
        const listItem = checkbox.closest('.article-item');

        // Cek apakah item sedang terlihat (tidak di-display: none oleh fungsi filter)
        if (listItem.style.display !== 'none') {
            checkbox.checked = master.checked;
        } else {
            // Jika artikel tersembunyi, pastikan tetap uncheck (opsional, tapi lebih aman)
            checkbox.checked = false;
        }
    });

    handleItemSelect();
}

    function updateBulkTray() {
        const tray = document.getElementById('bulkActionTray');
        const count = document.getElementById('selectedCount');
        if (selectedItems.length > 0) {
            tray.style.display = 'flex';
            count.innerText = selectedItems.length;
        } else {
            tray.style.display = 'none';
        }
    }

    function bulkDelete() {
        if (!confirm(`Hapus ${selectedItems.length} artikel terpilih secara permanen?`)) return;

        // Hapus dari belakang agar index tidak bergeser
        const sorted = [...selectedItems].sort((a, b) => b.idx - a.idx);
        sorted.forEach(item => {
            jsonData[item.cat].splice(item.idx, 1);
        });
        renderEditor();
    }

    function openBulkMoveModal() {
        const select = document.getElementById('moveCategorySelect');
        select.innerHTML = '';
        Object.keys(jsonData).forEach(c => {
            let opt = new Option(c, c);
            select.add(opt);
        });
        document.getElementById('bulkMoveModal').classList.add('active');
    }

    function confirmBulkMove() {
        const target = document.getElementById('moveCategorySelect').value;
        const itemsToMove = selectedItems.map(i => jsonData[i.cat][i.idx]);

        // Hapus lama
        const sorted = [...selectedItems].sort((a, b) => b.idx - a.idx);
        sorted.forEach(i => jsonData[i.cat].splice(i.idx, 1));

        // Tambah baru
        jsonData[target].push(...itemsToMove);

        closeModal('bulkMoveModal');
        renderEditor();
    }

    // --- LOGIKA CRUD STANDAR ---
    function filterArticles() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        document.querySelectorAll('.category-block').forEach(block => {
            let hasVisible = false;
            block.querySelectorAll('.article-item').forEach(item => {
                const match = item.dataset.search.includes(query);
                item.style.display = match ? 'flex' : 'none';
                if (match) hasVisible = true;
            });
            block.style.display = hasVisible ? 'block' : 'none';
        });
    }

    function downloadJSON() {
        const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(jsonData, null, 2));
        const dl = document.createElement('a');
        dl.setAttribute("href", dataStr);
        dl.setAttribute("download", "artikel.json");
        dl.click();
    }

    function closeModal(id) { document.getElementById(id).classList.remove('active'); }

    function openAddArticleModal(cat) {
        document.getElementById('modalTitle').innerText = `Tambah Artikel: ${cat}`;
        document.getElementById('editCategoryKey').value = cat;
        document.getElementById('editArticleIndex').value = -1;
        document.getElementById('inpTitle').value = "";
        document.getElementById('inpFilename').value = "";
        document.getElementById('inpImage').value = "";
        document.getElementById('inpDate').value = new Date().toISOString();
        document.getElementById('inpDesc').value = "";
        document.getElementById('articleModal').classList.add('active');
    }

    function openEditArticleModal(cat, idx) {
        const data = jsonData[cat][idx];
        document.getElementById('modalTitle').innerText = "Edit Artikel";
        document.getElementById('editCategoryKey').value = cat;
        document.getElementById('editArticleIndex').value = idx;
        document.getElementById('inpTitle').value = data[0];
        document.getElementById('inpFilename').value = data[1];
        document.getElementById('inpImage').value = data[2];
        document.getElementById('inpDate').value = data[3];
        document.getElementById('inpDesc').value = data[4];
        document.getElementById('articleModal').classList.add('active');
    }

    function saveArticleChange() {
        const cat = document.getElementById('editCategoryKey').value;
        const idx = parseInt(document.getElementById('editArticleIndex').value);
        const data = [
            document.getElementById('inpTitle').value,
            document.getElementById('inpFilename').value,
            document.getElementById('inpImage').value,
            document.getElementById('inpDate').value,
            document.getElementById('inpDesc').value
        ];
        if (idx === -1) jsonData[cat].unshift(data);
        else jsonData[cat][idx] = data;
        closeModal('articleModal');
        renderEditor();
    }

    function deleteArticle(cat, idx) {
        if (confirm("Hapus artikel ini?")) {
            jsonData[cat].splice(idx, 1);
            renderEditor();
        }
    }

    function openCategoryModal() {
        document.getElementById('oldCategoryName').value = "";
        document.getElementById('inpCategoryName').value = "";
        document.getElementById('categoryModal').classList.add('active');
    }

    function editCategory(old) {
        document.getElementById('oldCategoryName').value = old;
        document.getElementById('inpCategoryName').value = old;
        document.getElementById('categoryModal').classList.add('active');
    }

    function saveCategoryChange() {
        const old = document.getElementById('oldCategoryName').value;
        const name = document.getElementById('inpCategoryName').value;
        if (!name) return;
        if (!old) {
            if (jsonData[name]) return alert("Kategori sudah ada!");
            jsonData[name] = [];
        } else if (old !== name) {
            jsonData[name] = jsonData[old];
            delete jsonData[old];
        }
        closeModal('categoryModal');
        renderEditor();
    }

    function deleteCategory(cat) {
        if (confirm(`Hapus kategori "${cat}"?`)) {
            delete jsonData[cat];
            renderEditor();
        }
    }
</script>
<div id="progress"></div><a id="layar-kosong-header" href="https://dalam.web.id/"></a><div id="dynamic-nav-container" class="floating-nav"></div>
<section id="related-marquee-section"><div id="related-marquee-container"></div></section>
<script defer="" src="/ext/markdown.js"></script><script defer="" src="/ext/marquee-url.js"></script>
</body></html>
