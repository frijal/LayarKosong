document.addEventListener("DOMContentLoaded",()=>{let X={galleryImageSelectors:["body .image-gallery img","body .gallery-image","body .gallery","body .artikel-gambar","body main .wp-block-image img","body article img","body main img","body separator"],minImageWidth:50,lightboxId:"auto-generated-lightbox"},D=((f)=>{for(let q of f){let Q=document.querySelectorAll(q);if(Q.length>0)return Q}return document.querySelectorAll(".non-existent-class-for-empty-nodelist")})(X.galleryImageSelectors),R=Array.from(D).filter((f)=>{if(!(f.naturalWidth>=X.minImageWidth||f.width>=X.minImageWidth))return!1;let Q=/\.(jpe?g|png|webp)$/i,W=f.src.split("?")[0];return Q.test(W)}),V=0;if(R.length<=2)return;if(document.getElementById(X.lightboxId))return;let z,Y,E=()=>{z=document.createElement("div"),z.id=X.lightboxId,z.className="auto-lightbox-overlay";let f=document.createElement("button");f.className="auto-lightbox-close",f.innerHTML="&times;",f.onclick=Z,Y=document.createElement("img"),Y.className="auto-lightbox-image";let q=document.createElement("div");q.className="auto-lightbox-nav";let Q=document.createElement("button");Q.className="auto-lightbox-nav-btn prev",Q.innerHTML="&#9664;",Q.onclick=j;let W=document.createElement("button");W.className="auto-lightbox-nav-btn next",W.innerHTML="&#9654;",W.onclick=$,q.appendChild(Q),q.appendChild(W),z.appendChild(f),z.appendChild(Y),z.appendChild(q),document.body.appendChild(z)},H=()=>{let f=document.createElement("style");f.id="auto-lightbox-styles",f.innerHTML=`
      .auto-lightbox-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.85); display: none; align-items: center; justify-content: center; z-index: 99999; }
      .auto-lightbox-overlay.open { display: flex; }
      .auto-lightbox-image { max-width: 90vw; max-height: 85vh; border-radius: 8px; border: 1px solid rgba(255,255,255,.1); }
      .auto-lightbox-close { position: absolute; top: 15px; right: 20px; font-size: 2.5rem; color: white; background: transparent; border: none; cursor: pointer; line-height: 1; }
      .auto-lightbox-nav { position: absolute; top: 50%; left: 0; right: 0; transform: translateY(-50%); display: flex; justify-content: space-between; padding: 0 1rem; pointer-events: none; }
      .auto-lightbox-nav-btn { font-size: 2rem; background: rgba(0,0,0,0.3); color: white; border: 1px solid rgba(255,255,255,0.2); border-radius: 50%; cursor: pointer; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; user-select: none; pointer-events: auto; }
    `,document.head.appendChild(f)},J=(f)=>{V=f,_(),z.classList.add("open")},Z=()=>{z.classList.remove("open")},_=()=>{let f=R[V],q=f.dataset.full||f.src;q=q.replace(/\/s\d+(-c)?\//,"/s0/"),Y.src=q},$=()=>{V=(V+1)%R.length,_()},j=()=>{V=(V-1+R.length)%R.length,_()};(()=>{E(),H(),R.forEach((f,q)=>{f.style.cursor="pointer",f.addEventListener("click",()=>{J(q)})}),document.addEventListener("keydown",(f)=>{if(!z.classList.contains("open"))return;if(f.key==="ArrowRight")$();if(f.key==="ArrowLeft")j();if(f.key==="Escape")Z()}),z.addEventListener("click",(f)=>{if(f.target===z)Z()})})()});
