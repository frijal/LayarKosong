{
  "id": "workflow-cloudflare",
  "slug": "workflow-cloudflare",
  "title": "‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare",
  "category": "üñ•Ô∏è Teknologi Web, AI & Umum",
  "published_at": "2025-10-26T04:42:20.917+00:00",
  "url": "https://dalam.web.id/artikel/workflow-cloudflare.html",
  "image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp",
  "content": {
    "text": "‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare Penjelasan santai dan lengkap untuk developer yang ingin deploy otomatis dan efisien üéØ Tujuan Workflow Workflow ini dirancang untuk menyalin file dari branch main ke branch site secara otomatis, hanya jika ada perubahan yang relevan. Cocok banget buat kamu yang pakai Cloudflare Pages dan ingin proses deploy yang bersih dan efisien. üîß Struktur dan Langkah-langkah Berikut adalah isi lengkap file .github/workflows/deploy-to-site.yml: name: ‚ö†Ô∏è Copy ke Branch Site Cloudflare on: schedule: - cron: '0 17 * * *' push: branches: - main paths: - 'artikel.json' - '_redirects' - '_headers' - '*.html' - '*.xml' - '*.txt' - 'favicon.*' - 'icon.*' - 'logo.*' - 'thumbnail.*' - '*.webmanifest' workflow_dispatch: permissions: contents: write jobs: build-and-deploy: runs-on: ubuntu-latest steps: - name: Checkout source branch uses: actions/checkout@v4 with: ref: main path: source - name: Checkout site branch (for comparison) uses: actions/checkout@v4 with: ref: site path: site - name: Create clean directory run: mkdir deploy_dir - name: Sync allowed files to deploy directory run: | rsync -a --delete \\ --include='artikel/***' \\ --include='ext/***' \\ --include='img/***' \\ --include='artikel.json' \\ --include='_redirects' \\ --include='_headers' \\ --include='*.html' \\ --include='*.xml' \\ --include='*.txt' \\ --include='favicon.*' \\ --include='icon.*' \\ --include='logo.*' \\ --include='thumbnail.*' \\ --include='*.webmanifest' \\ --exclude='*' \\ source/ deploy_dir/ - name: Check for changes vs deployed site id: check_changes run: | if git diff --no-index --quiet deploy_dir/ site/; then echo \"changed=false\" >> $GITHUB_OUTPUT else echo \"changed=true\" >> $GITHUB_OUTPUT fi - name: Deploy to site branch if: steps.check_changes.outputs.changed == 'true' uses: peaceiris/actions-gh-pages@v4 with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./deploy_dir publish_branch: site user_name: 'github-actions[bot]' user_email: 'github-actions[bot]@users.noreply.github.com' force_orphan: false keep_files: false üìå Penjelasan Tambahan Workflow ini sangat cocok untuk kamu yang ingin menjaga branch site tetap bersih dan hanya berisi file yang memang dibutuhkan untuk deploy ke Cloudflare Pages. Dengan filter paths dan rsync --include, kamu bisa pastikan hanya file penting seperti HTML, JSON, favicon, dan manifest yang ikut disalin. Langkah check_changes juga penting banget karena mencegah deploy yang sia-sia kalau ternyata tidak ada perubahan signifikan. Ini hemat waktu dan resource.",
    "html": "<header>\n    <h1>‚öôÔ∏è Workflow GitHub Actions: Copy ke Branch Site Cloudflare</h1>\n\n    <p>Penjelasan santai dan lengkap untuk developer yang ingin deploy otomatis dan efisien</p>\n  </header>\n  <main>\n    <img src=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp\" alt=\"Tangkapan layar workflow GitHub Actions\">\n    <section>\n      <h2>üéØ Tujuan Workflow</h2>\n      <p>Workflow ini dirancang untuk menyalin file dari branch <code>main</code> ke branch <code>site</code> secara otomatis, hanya jika ada perubahan yang relevan. Cocok banget buat kamu yang pakai Cloudflare Pages dan ingin proses deploy yang bersih dan efisien.</p>\n    </section>\n    <section>\n      <h2>üîß Struktur dan Langkah-langkah</h2>\n      <p>Berikut adalah isi lengkap file <code>.github/workflows/deploy-to-site.yml</code>:</p>\n      <pre><code>name: ‚ö†Ô∏è Copy ke Branch Site Cloudflare\non:\n  schedule:\n    - cron: '0 17 * * *'\n  push:\n    branches:\n      - main\n    paths:\n      - 'artikel.json'\n      - '_redirects'\n      - '_headers'\n      - '*.html'\n      - '*.xml'\n      - '*.txt'\n      - 'favicon.*'\n      - 'icon.*'\n      - 'logo.*'\n      - 'thumbnail.*'\n      - '*.webmanifest'\n  workflow_dispatch:\npermissions:\n  contents: write\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout source branch\n        uses: actions/checkout@v4\n        with:\n          ref: main\n          path: source\n      - name: Checkout site branch (for comparison)\n        uses: actions/checkout@v4\n        with:\n          ref: site\n          path: site\n      - name: Create clean directory\n        run: mkdir deploy_dir\n      - name: Sync allowed files to deploy directory\n        run: |\n          rsync -a --delete \\\n            --include='artikel/***' \\\n            --include='ext/***' \\\n            --include='img/***' \\\n            --include='artikel.json' \\\n            --include='_redirects' \\\n            --include='_headers' \\\n            --include='*.html' \\\n            --include='*.xml' \\\n            --include='*.txt' \\\n            --include='favicon.*' \\\n            --include='icon.*' \\\n            --include='logo.*' \\\n            --include='thumbnail.*' \\\n            --include='*.webmanifest' \\\n            --exclude='*' \\\n            source/ deploy_dir/\n      - name: Check for changes vs deployed site\n        id: check_changes\n        run: |\n          if git diff --no-index --quiet deploy_dir/ site/; then\n            echo \"changed=false\" &gt;&gt; $GITHUB_OUTPUT\n          else\n            echo \"changed=true\" &gt;&gt; $GITHUB_OUTPUT\n          fi\n      - name: Deploy to site branch\n        if: steps.check_changes.outputs.changed == 'true'\n        uses: peaceiris/actions-gh-pages@v4\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./deploy_dir\n          publish_branch: site\n          user_name: 'github-actions[bot]'\n          user_email: 'github-actions[bot]@users.noreply.github.com'\n          force_orphan: false\n          keep_files: false\n</code></pre>\n    <section>\n      <h2>üìå Penjelasan Tambahan</h2>\n      <p>Workflow ini sangat cocok untuk kamu yang ingin menjaga branch <code>site</code> tetap bersih dan hanya berisi file yang memang dibutuhkan untuk deploy ke Cloudflare Pages. Dengan filter <code>paths</code> dan <code>rsync --include</code>, kamu bisa pastikan hanya file penting seperti HTML, JSON, favicon, dan manifest yang ikut disalin.</p>\n      <p>Langkah <strong>check_changes</strong> juga penting banget karena mencegah deploy yang sia-sia kalau ternyata tidak ada perubahan signifikan. Ini hemat waktu dan resource.</p>\n    </section>\n    <section>\n      \n    </section>\n  </section></main>"
  },
  "meta": {
    "summary": "Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien.",
    "prompt_hint": "Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien.",
    "keywords": [],
    "topics": []
  }
}