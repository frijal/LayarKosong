{
  "id": "workflow-cloudflare",
  "slug": "workflow-cloudflare",
  "title": "âš™ï¸ Workflow GitHub Actions: Copy ke Branch Site Cloudflare",
  "category": "ðŸ–¥ï¸ Teknologi Web, AI & Umum",
  "published_at": "2025-10-26T04:42:20.917+00:00",
  "url": "https://dalam.web.id/artikel/workflow-cloudflare.html",
  "image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhA31C78nMTd9AcKc8Totzjmzm3ubTA1MClmmh4eyrl1mHIjwPfZWu6rrCCL-tQj2UJ2jZprqwp1ao4eeEiwAUnIAkz6DaypVnSrCpxYsPY6olObBpqVM_FRgTOEgV_lvITMnyJw_j83lmuV7Mdga5fCZa_j97935APX33_uY4bMq2OZrqgCdcnlQTN0Vg/s1600/Screenshot_20251025_234149.webp",
  "content": "âš™ï¸ Workflow GitHub Actions: Copy ke Branch Site Cloudflare Penjelasan santai dan lengkap untuk developer yang ingin deploy otomatis dan efisien ðŸŽ¯ Tujuan Workflow Workflow ini dirancang untuk menyalin file dari branch main ke branch site secara otomatis, hanya jika ada perubahan yang relevan. Cocok banget buat kamu yang pakai Cloudflare Pages dan ingin proses deploy yang bersih dan efisien. ðŸ”§ Struktur dan Langkah-langkah Berikut adalah isi lengkap file .github/workflows/deploy-to-site.yml: name: âš ï¸ Copy ke Branch Site Cloudflare on: schedule: - cron: '0 17 * * *' push: branches: - main paths: - 'artikel.json' - '_redirects' - '_headers' - '*.html' - '*.xml' - '*.txt' - 'favicon.*' - 'icon.*' - 'logo.*' - 'thumbnail.*' - '*.webmanifest' workflow_dispatch: permissions: contents: write jobs: build-and-deploy: runs-on: ubuntu-latest steps: - name: Checkout source branch uses: actions/checkout@v4 with: ref: main path: source - name: Checkout site branch (for comparison) uses: actions/checkout@v4 with: ref: site path: site - name: Create clean directory run: mkdir deploy_dir - name: Sync allowed files to deploy directory run: | rsync -a --delete \\ --include='artikel/***' \\ --include='ext/***' \\ --include='img/***' \\ --include='artikel.json' \\ --include='_redirects' \\ --include='_headers' \\ --include='*.html' \\ --include='*.xml' \\ --include='*.txt' \\ --include='favicon.*' \\ --include='icon.*' \\ --include='logo.*' \\ --include='thumbnail.*' \\ --include='*.webmanifest' \\ --exclude='*' \\ source/ deploy_dir/ - name: Check for changes vs deployed site id: check_changes run: | if git diff --no-index --quiet deploy_dir/ site/; then echo \"changed=false\" >> $GITHUB_OUTPUT else echo \"changed=true\" >> $GITHUB_OUTPUT fi - name: Deploy to site branch if: steps.check_changes.outputs.changed == 'true' uses: peaceiris/actions-gh-pages@v4 with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./deploy_dir publish_branch: site user_name: 'github-actions[bot]' user_email: 'github-actions[bot]@users.noreply.github.com' force_orphan: false keep_files: false ðŸ“Œ Penjelasan Tambahan Workflow ini sangat cocok untuk kamu yang ingin menjaga branch site tetap bersih dan hanya berisi file yang memang dibutuhkan untuk deploy ke Cloudflare Pages. Dengan filter paths dan rsync --include, kamu bisa pastikan hanya file penting seperti HTML, JSON, favicon, dan manifest yang ikut disalin. Langkah check_changes juga penting banget karena mencegah deploy yang sia-sia kalau ternyata tidak ada perubahan signifikan. Ini hemat waktu dan resource.",
  "meta": {
    "summary": "Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien.",
    "keywords": [],
    "topics": [],
    "prompt_hint": "Penjelasan lengkap dan santai tentang workflow GitHub Actions untuk sinkronisasi branch ke Cloudflare Site. Cocok untuk developer yang ingin deploy otomatis dan efisien."
  }
}