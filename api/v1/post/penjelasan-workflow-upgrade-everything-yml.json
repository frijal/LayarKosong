{
  "id": "penjelasan-workflow-upgrade-everything-yml",
  "slug": "penjelasan-workflow-upgrade-everything-yml",
  "title": "Bedah Workflow upgrade-everything.yml: Otomatis Upgrade & Cleanup Dependensi.",
  "category": "ğŸ–¥ï¸ Teknologi Web, AI & Umum",
  "published_at": "2025-10-29T19:00:00.000+00:00",
  "url": "https://dalam.web.id/artikel/penjelasan-workflow-upgrade-everything-yml.html",
  "image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhw4RdahPQaBd_WuWLKqam9l9sjBn6yQOo2_7bqq1v22D91zlLVMhU6-RWAYB561a-YgDWg_Gd9FdK3LI6PX5k31Q296ZMHS6-REwjVaFsjsy-pYo1tbpXBL-jwT4ZozmRditys52dPF4L7PBe1gDSpbS4WMbpLtrfQUMbi442HDWJNGUZVeSwjNTewkTE/s1600/upgradeclean.webp",
  "content": {
    "text": "ğŸ¤– Bedah Workflow upgrade-everything.yml Otomatis Upgrade & Cleanup Dependensi Node.js + Bikin PR! ğŸ¯ Buat Apa Sih Workflow Ini? Mantap! Workflow GitHub Actions ini beneran keren dan dirancang buat **jaga dependensi Node.js** di proyek kamu biar **tetap update** (versi terbaru) dan **bersih** (buang yang nggak kepakai). Nggak cuma itu, setelah dia beres-beres, dia bakal **ngajuin perubahan itu sebagai Pull Request (PR)**. Jadi, kamu atau tim bisa cek dulu (review) sebelum perubahannya digabung ke kode utama. Lebih aman, kan? Enaknya lagi, workflow ini bisa kamu **jalankan manual** kapan aja kamu mau, atau **dijadwalin otomatis** jalan sebulan sekali. Jadi, urusan *maintenance* dependensi bisa lebih enteng! ğŸ” Gimana Cara Kerjanya? (Langkah demi Langkah) Workflow ini kerjaannya cukup sistematis. Ini dia urutannya: **Kapan Jalan? (on:)** **Manual (workflow_dispatch):** Kamu bisa klik tombol 'Run workflow' di tab \"Actions\" repositori GitHub kamu. Cocok buat ngetes atau kalau lagi pengen update sekarang juga. **Otomatis (schedule):** Udah disetel buat jalan sendiri tiap **tanggal 1 jam 2 pagi UTC** (itu sekitar jam 10 pagi WITA kalau di Balikpapan). Jadi, awal bulan, dependensi proyekmu otomatis dicek. **Minta Izin Dulu (permissions:)** Sebelum mulai kerja, workflow ini minta izin dulu ke GitHub: contents: write: Izin buat nulis ke repositori, soalnya dia bakal ngubah file package.json dan package-lock.json, terus bikin *branch* baru buat PR. pull-requests: write: Izin khusus buat bikin *Pull Request*. **Ini penting banget biar dia bisa ngajuin perubahannya!** Tanpa ini, bakal error kayak yang kamu alamin sebelumnya. (Izin ini ditulis di level workflow dan di level job, bagus buat kejelasan!) **Mulai Kerja! (jobs: maintenance-pr)** Cuma ada satu pekerjaan utama di sini, yang jalan di lingkungan Linux (ubuntu-latest). Langkah-langkahnya: **Ambil Kode (Checkout code):** Ngunduh kode proyekmu ke 'meja kerja' si Actions. **Siapin Alat Node.js (Setup Node.js):** Masang Node.js versi 20 dan aktifin *cache* npm biar instalasi dependensi bisa lebih cepet kalau nggak banyak berubah. **Pasang Peralatan Tambahan (Install dependencies (untuk tools)):** Jalankan npm install. Ini buat masang *tools* yang dibutuhin workflow ini (kayak npm-check-updates dan depcheck) yang mungkin kamu daftarin di devDependencies di package.json. **Biar Bisa Dijalankan (Make script executable):** Ngasih izin biar skrip data/cleanup.js bisa dieksekusi. **Langkah 1: Upgrade! (1. Upgrade dependencies):** Masang npm-check-updates (ncu) di 'meja kerja'. (Tips: Kalau ncu udah ada di devDependencies, pakai npx ncu ... mungkin lebih simpel). Jalankan ncu -u --target minor. Ini perintah saktinya! Dia bakal ngecek semua dependensi di package.json, nyari versi **minor** dan **patch** terbaru, terus langsung **update file package.json** kamu. Dijamin aman dari perubahan besar (major) yang bikin pusing. **Langkah 2: Bersih-bersih! (2. Cleanup unused packages):** Jalankan skrip data/cleanup.js. Nah, skrip ini kerjaannya bersih-bersih. Kemungkinan besar dia: Nyari paket/dependensi yang udah nggak kepakai lagi (mungkin pakai depcheck). Nghapus paket 'sampah' itu dari package.json atau node_modules. Jalanin npm install lagi biar node_modules dan package-lock.json cocok sama package.json yang udah di-update dan dibersihin. **Ngecek Ada Hasil Nggak? (Check for changes):** Langkah cerdas nih! Dia ngecek pakai git status, \"File package.json atau package-lock.json ada yang berubah nggak ya setelah di-upgrade dan dibersihin?\". Hasilnya disimpan, apakah true (ada perubahan) atau false (nggak ada). **Tes Dulu Kalau Ada Perubahan (Run tests):** Ini cuma jalan kalau langkah sebelumnya bilang true. Dia coba jalanin perintah npm run build dan npm test (kalau ada di package.json kamu). **Penting banget buat mastiin update dependensi nggak bikin error.** **Bikin Laporan (PR) Kalau Ada Perubahan (Create Pull Request):** Ini juga cuma jalan kalau ada perubahan (dan asumsinya tes tadi lolos). Pakai action jagoan peter-evans/create-pull-request buat bikin PR otomatis. PR-nya dibikin rapi: Di *branch* baru biar nggak ganggu (chore/auto-maintenance-xxxx). Judul, pesan commit, dan deskripsinya jelas nerangin isinya (upgrade & cleanup). Dikasih label (dependencies, chore, dll). Langsung minta review ke kamu (reviewers: frijal). Langsung *ready*, bukan *draft*. âœ¨ Kerennya Workflow Ini Apa Aja? âœ… **Serba Otomatis:** Bisa jalan sendiri tiap bulan, hemat waktu kamu. ğŸ”’ **Upgrade Aman:** Cuma ambil versi minor & patch, risiko error kecil. ğŸ§¹ **Proyek Jadi Rapi:** Ada langkah bersih-bersih paket nggak kepakai. ğŸ§  **Cerdas:** Cuma bikin PR kalau beneran ada yang di-update atau dibersihin. ğŸ§ª **Ada Tes:** Nggak asal bikin PR, dites dulu biar nggak ngerusak. ğŸ“„ **PR Jelas:** Laporan perubahannya (PR) informatif dan gampang dimengerti. ğŸ”‘ **Izin Lengkap:** Udah punya izin yang pas buat bikin PR (ini penting!). ğŸŒ¿ **Manajemen Branch Oke:** Bikin branch baru tiap jalan biar rapi. Secara keseluruhan, workflow upgrade-everything.yml dan cleanup.js ini adalah contoh yang **solid dan bagus** buat otomatisasi tugas *maintenance* dependensi proyek Node.js kamu di GitHub! ğŸ‘ ğŸš€ Mau Lihat Kodenya Langsung? Kamu bisa lihat kode lengkap workflow upgrade-everything.yml dan cleanup.js ini langsung dari repositori GitHub: Lihat upgrade-everything.yml di GitHub Lihat cleanup.js di GitHub Kamu bisa adaptasi workflow ini untuk proyek Node.js kamu yang lain. Jangan lupa sesuaikan skrip data/cleanup.js (kalau beda) dan nama *reviewer* di bagian PR.",
    "html": "<header>\n                <h1>ğŸ¤– Bedah Workflow upgrade-everything.yml</h1>\n\n                <p style=\"text-align: center; font-size: 1.1rem; color: #888;\">Otomatis Upgrade &amp; Cleanup Dependensi Node.js + Bikin PR!</p>\n            </header>\n            <img src=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhw4RdahPQaBd_WuWLKqam9l9sjBn6yQOo2_7bqq1v22D91zlLVMhU6-RWAYB561a-YgDWg_Gd9FdK3LI6PX5k31Q296ZMHS6-REwjVaFsjsy-pYo1tbpXBL-jwT4ZozmRditys52dPF4L7PBe1gDSpbS4WMbpLtrfQUMbi442HDWJNGUZVeSwjNTewkTE/s1600/upgradeclean.webp\" alt=\"Ilustrasi workflow otomatis\">\n            <section id=\"tujuan-workflow\">\n                <h2>ğŸ¯ Buat Apa Sih Workflow Ini?</h2>\n                <p>Mantap! Workflow GitHub Actions ini beneran keren dan dirancang buat **jaga dependensi Node.js** di proyek kamu biar **tetap update** (versi terbaru) dan **bersih** (buang yang nggak kepakai).</p>\n                <p>Nggak cuma itu, setelah dia beres-beres, dia bakal **ngajuin perubahan itu sebagai Pull Request (PR)**. Jadi, kamu atau tim bisa cek dulu (review) sebelum perubahannya digabung ke kode utama. Lebih aman, kan?</p>\n                <p>Enaknya lagi, workflow ini bisa kamu **jalankan manual** kapan aja kamu mau, atau **dijadwalin otomatis** jalan sebulan sekali. Jadi, urusan *maintenance* dependensi bisa lebih enteng!</p>\n            </section>\n            <hr>\n            <section id=\"cara-kerja\">\n                <h2>ğŸ” Gimana Cara Kerjanya? (Langkah demi Langkah)</h2>\n                <p>Workflow ini kerjaannya cukup sistematis. Ini dia urutannya:</p>\n                <ol>\n                    <li>\n                        **Kapan Jalan? (<code>on:</code>)**\n                        <ul>\n                            <li>**Manual (<code>workflow_dispatch</code>):** Kamu bisa klik tombol 'Run workflow' di tab \"Actions\" repositori GitHub kamu. Cocok buat ngetes atau kalau lagi pengen update sekarang juga.</li>\n                            <li>**Otomatis (<code>schedule</code>):** Udah disetel buat jalan sendiri tiap **tanggal 1 jam 2 pagi UTC** (itu sekitar jam 10 pagi WITA kalau di Balikpapan). Jadi, awal bulan, dependensi proyekmu otomatis dicek.</li>\n                        </ul>\n                    </li>\n                    <li>\n                        **Minta Izin Dulu (<code>permissions:</code>)**\n                        <p>Sebelum mulai kerja, workflow ini minta izin dulu ke GitHub:</p>\n                        <ul>\n                            <li><code>contents: write</code>: Izin buat nulis ke repositori, soalnya dia bakal ngubah file <code>package.json</code> dan <code>package-lock.json</code>, terus bikin *branch* baru buat PR.</li>\n                            <li><code>pull-requests: write</code>: Izin khusus buat bikin *Pull Request*. **Ini penting banget biar dia bisa ngajuin perubahannya!** Tanpa ini, bakal error kayak yang kamu alamin sebelumnya.</li>\n                        </ul>\n                         <p><em>(Izin ini ditulis di level workflow dan di level job, bagus buat kejelasan!)</em></p>\n                    </li>\n                    <li>\n                        **Mulai Kerja! (<code>jobs: maintenance-pr</code>)**\n                        <p>Cuma ada satu pekerjaan utama di sini, yang jalan di lingkungan Linux (<code>ubuntu-latest</code>). Langkah-langkahnya:</p>\n                        <ol type=\"a\">\n                            <li>**Ambil Kode (<code>Checkout code</code>):** Ngunduh kode proyekmu ke 'meja kerja' si Actions.</li>\n                            <li>**Siapin Alat Node.js (<code>Setup Node.js</code>):** Masang Node.js versi 20 dan aktifin *cache* npm biar instalasi dependensi bisa lebih cepet kalau nggak banyak berubah.</li>\n                            <li>**Pasang Peralatan Tambahan (<code>Install dependencies (untuk tools)</code>):** Jalankan <code>npm install</code>. Ini buat masang *tools* yang dibutuhin workflow ini (kayak <code>npm-check-updates</code> dan <code>depcheck</code>) yang mungkin kamu daftarin di <code>devDependencies</code> di <code>package.json</code>.</li>\n                            <li>**Biar Bisa Dijalankan (<code>Make script executable</code>):** Ngasih izin biar skrip <code>data/cleanup.js</code> bisa dieksekusi.</li>\n                            <li>**Langkah 1: Upgrade! (<code>1. Upgrade dependencies</code>):**\n                                <ul>\n                                   <li>Masang <code>npm-check-updates</code> (ncu) di 'meja kerja'. <em>(Tips: Kalau ncu udah ada di devDependencies, pakai <code>npx ncu ...</code> mungkin lebih simpel).</em></li>\n                                   <li>Jalankan <code>ncu -u --target minor</code>. Ini perintah saktinya! Dia bakal ngecek semua dependensi di <code>package.json</code>, nyari versi **minor** dan **patch** terbaru, terus langsung **update file <code>package.json</code>** kamu. Dijamin aman dari perubahan besar (major) yang bikin pusing.</li>\n                                </ul>\n                            </li>\n                             <li>**Langkah 2: Bersih-bersih! (<code>2. Cleanup unused packages</code>):**\n                                <ul>\n                                   <li>Jalankan skrip <code>data/cleanup.js</code>. Nah, skrip ini kerjaannya bersih-bersih. Kemungkinan besar dia:\n                                        <ol>\n                                            <li>Nyari paket/dependensi yang udah nggak kepakai lagi (mungkin pakai <code>depcheck</code>).</li>\n                                            <li>Nghapus paket 'sampah' itu dari <code>package.json</code> atau <code>node_modules</code>.</li>\n                                            <li>Jalanin <code>npm install</code> lagi biar <code>node_modules</code> dan <code>package-lock.json</code> cocok sama <code>package.json</code> yang udah di-update dan dibersihin.</li>\n                                        </ol>\n                                    </li>\n                                </ul>\n                            </li>\n                             <li>**Ngecek Ada Hasil Nggak? (<code>Check for changes</code>):**\n                                <ul>\n                                   <li>Langkah cerdas nih! Dia ngecek pakai <code>git status</code>, \"File <code>package.json</code> atau <code>package-lock.json</code> ada yang berubah nggak ya setelah di-upgrade dan dibersihin?\".</li>\n                                   <li>Hasilnya disimpan, apakah <code>true</code> (ada perubahan) atau <code>false</code> (nggak ada).</li>\n                                </ul>\n                            </li>\n                             <li>**Tes Dulu Kalau Ada Perubahan (<code>Run tests</code>):**\n                                <ul>\n                                   <li>Ini cuma jalan kalau langkah sebelumnya bilang <code>true</code>.</li>\n                                   <li>Dia coba jalanin perintah <code>npm run build</code> dan <code>npm test</code> (kalau ada di <code>package.json</code> kamu). **Penting banget buat mastiin update dependensi nggak bikin error.**</li>\n                                </ul>\n                            </li>\n                             <li>**Bikin Laporan (PR) Kalau Ada Perubahan (<code>Create Pull Request</code>):**\n                                <ul>\n                                   <li>Ini juga cuma jalan kalau ada perubahan (dan asumsinya tes tadi lolos).</li>\n                                   <li>Pakai action jagoan <code>peter-evans/create-pull-request</code> buat bikin PR otomatis.</li>\n                                   <li>PR-nya dibikin rapi:\n                                        <ul>\n                                            <li>Di *branch* baru biar nggak ganggu (<code class=\"inline\">chore/auto-maintenance-xxxx</code>).</li>\n                                            <li>Judul, pesan commit, dan deskripsinya jelas nerangin isinya (upgrade &amp; cleanup).</li>\n                                            <li>Dikasih label (<code class=\"inline\">dependencies</code>, <code>chore</code>, dll).</li>\n                                            <li>Langsung minta review ke kamu (<code class=\"inline\">reviewers: frijal</code>).</li>\n                                            <li>Langsung *ready*, bukan *draft*.</li>\n                                        </ul>\n                                    </li>\n                                </ul>\n                            </li>\n                        </ol>\n                    </li>\n                </ol>\n            </section>\n            <hr>\n            <section id=\"kesimpulan\">\n                 <h2>âœ¨ Kerennya Workflow Ini Apa Aja?</h2>\n                 <ul>\n                    <li>âœ… **Serba Otomatis:** Bisa jalan sendiri tiap bulan, hemat waktu kamu.</li>\n                    <li>ğŸ”’ **Upgrade Aman:** Cuma ambil versi minor &amp; patch, risiko error kecil.</li>\n                    <li>ğŸ§¹ **Proyek Jadi Rapi:** Ada langkah bersih-bersih paket nggak kepakai.</li>\n                    <li>ğŸ§  **Cerdas:** Cuma bikin PR kalau beneran ada yang di-update atau dibersihin.</li>\n                    <li>ğŸ§ª **Ada Tes:** Nggak asal bikin PR, dites dulu biar nggak ngerusak.</li>\n                    <li>ğŸ“„ **PR Jelas:** Laporan perubahannya (PR) informatif dan gampang dimengerti.</li>\n                    <li>ğŸ”‘ **Izin Lengkap:** Udah punya izin yang pas buat bikin PR (ini penting!).</li>\n                    <li>ğŸŒ¿ **Manajemen Branch Oke:** Bikin branch baru tiap jalan biar rapi.</li>\n                 </ul>\n                 <p>Secara keseluruhan, workflow <code class=\"inline\">upgrade-everything.yml</code> dan <code class=\"inline\">cleanup.js</code> ini adalah contoh yang **solid dan bagus** buat otomatisasi tugas *maintenance* dependensi proyek Node.js kamu di GitHub! ğŸ‘</p>\n            </section>\n            <hr>\n            <section id=\"ambil-kode\">\n                 <h2>ğŸš€ Mau Lihat Kodenya Langsung?</h2>\n                 <p>Kamu bisa lihat kode lengkap workflow <code class=\"inline\">upgrade-everything.yml</code> dan <code class=\"inline\">cleanup.js</code> ini langsung dari repositori GitHub:</p>\n                 <p style=\"text-align: center; margin: 2rem 0;\">\n                    <a href=\"https://github.com/frijal/LayarKosong/blob/a3f66f791106bbebdc3a87d6f185b36215000d43/.github/workflows/upgrade-everything.yml\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline-block; padding: 0.8rem 1.5rem; background-color: var(--button-bg); color: var(--button-text); border-radius: 8px; font-weight: bold; text-decoration: none;\">\n                        Lihat upgrade-everything.yml di GitHub\n                    </a>\n                    <a href=\"https://github.com/frijal/LayarKosong/blob/35e8d58202a1c8c235c9f36b6f0aba571e2bd99e/ext/cleanup.js\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"display: inline-block; padding: 0.8rem 1.5rem; background-color: var(--button-bg); color: var(--button-text); border-radius: 8px; font-weight: bold; text-decoration: none;\">\n                        Lihat cleanup.js di GitHub\n                    </a>\n                 </p>\n                 <p>Kamu bisa adaptasi workflow ini untuk proyek Node.js kamu yang lain. Jangan lupa sesuaikan skrip <code class=\"inline\">data/cleanup.js</code> (kalau beda) dan nama *reviewer* di bagian PR.</p>\n            </section>"
  },
  "meta": {
    "summary": "Penjelasan lengkap dan santai tentang cara kerja workflow GitHub Actions upgrade-everything.yml untuk otomatis upgrade (minor/patch) dan cleanup dependensi Node.js, lalu membuat Pull Request.",
    "keywords": [],
    "topics": [],
    "prompt_hint": "Penjelasan lengkap dan santai tentang cara kerja workflow GitHub Actions upgrade-everything.yml untuk otomatis upgrade (minor/patch) dan cleanup dependensi Node.js, lalu membuat Pull Request."
  }
}