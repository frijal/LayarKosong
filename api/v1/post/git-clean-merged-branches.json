{
  "id": "git-clean-merged-branches",
  "slug": "git-clean-merged-branches",
  "title": "Skrip Otomatis Bersihkan Branch Git yang Sudah Di-Merge",
  "category": "ğŸ–¥ï¸ Teknologi Web, AI & Umum",
  "published_at": "2025-10-13T21:14:36.042+00:00",
  "url": "https://dalam.web.id/artikel/git-clean-merged-branches.html",
  "image": "https://dalam.web.id/img/git-clean-merged-branches.webp",
  "content": {
    "text": "Kalau kamu sering kerja bareng tim dan repo Git kamu makin penuh sama branch lama, skrip ini bakal jadi penyelamat. ğŸ˜ Dengan skrip Bash ini, kamu bisa menampilkan daftar branch yang sudah di-merge, konfirmasi sebelum hapus, bahkan bersihkan juga di remote kalau mau. ğŸ’¾ Isi Skrip: clean-merged-branches.sh #!/usr/bin/env bash # =============================================== # Bersihkan branch Git yang sudah di-merge # Versi: 2.0 # Penulis: Frijal (https://dalam.web.id) # =============================================== set -e GREEN=\"\\033[1;32m\" YELLOW=\"\\033[1;33m\" RED=\"\\033[1;31m\" CYAN=\"\\033[1;36m\" NC=\"\\033[0m\" if ! git rev-parse --is-inside-work-tree &>/dev/null; then echo -e \"${RED}âŒ Bukan repository Git.${NC}\" exit 1 fi MAIN_BRANCH=$(git symbolic-ref refs/remotes/origin/HEAD 2>/dev/null | sed 's@^refs/remotes/origin/@@') MAIN_BRANCH=${MAIN_BRANCH:-main} AUTO=false DRY_RUN=false # Baca argumen for arg in \"$@\"; do case $arg in --auto) AUTO=true ;; --dry-run) DRY_RUN=true ;; esac done echo -e \"${CYAN}ğŸ“¦ Branch utama terdeteksi: ${MAIN_BRANCH}${NC}\" git checkout \"$MAIN_BRANCH\" >/dev/null 2>&1 || { echo -e \"${RED}âŒ Gagal checkout.${NC}\"; exit 1; } echo -e \"${YELLOW}ğŸ”„ Sinkronisasi dengan remote...${NC}\" git fetch -p MERGED_BRANCHES=$(git branch --merged \"$MAIN_BRANCH\" | grep -vE \"^\\*|${MAIN_BRANCH}|master|develop\" || true) if [ -z \"$MERGED_BRANCHES\" ]; then echo -e \"${GREEN}âœ… Tidak ada branch yang sudah di-merge.${NC}\" exit 0 fi echo -e \"\\n${CYAN}ğŸ“‹ Branch yang sudah di-merge:${NC}\" echo \"$MERGED_BRANCHES\" if $DRY_RUN; then echo -e \"\\n${YELLOW}ğŸ§ª Mode dry-run aktif: tidak ada branch yang dihapus.${NC}\" exit 0 fi if ! $AUTO; then read -rp \"$(echo -e \"${YELLOW}âš ï¸ Hapus branch di atas? (y/N): ${NC}\")\" confirm [[ ! \"$confirm\" =~ ^[Yy]$ ]] && echo -e \"${RED}ğŸš« Dibatalkan.${NC}\" && exit 0 fi echo -e \"${YELLOW}ğŸ§¹ Menghapus branch lokal...${NC}\" while read -r branch; do [ -z \"$branch\" ] && continue git branch -d \"$branch\" || echo -e \"${RED}âŒ Gagal hapus $branch${NC}\" done <<<\"$MERGED_BRANCHES\" if $AUTO; then DELETE_REMOTE=true else read -rp \"$(echo -e \"${YELLOW}ğŸŒ Hapus branch remote juga? (y/N): ${NC}\")\" confirm_remote [[ \"$confirm_remote\" =~ ^[Yy]$ ]] && DELETE_REMOTE=true fi if [ \"$DELETE_REMOTE\" = true ]; then echo -e \"${YELLOW}ğŸŒ Menghapus branch remote...${NC}\" while read -r branch; do REMOTE_EXISTS=$(git ls-remote --heads origin \"$branch\") if [ -n \"$REMOTE_EXISTS\" ]; then echo -e \"${CYAN}ğŸ”¸ Menghapus origin/$branch${NC}\" git push origin --delete \"$branch\" || echo -e \"${RED}âŒ Gagal hapus remote: $branch${NC}\" fi done <<<\"$MERGED_BRANCHES\" fi echo -e \"\\n${GREEN}âœ… Selesai! Semua branch yang sudah di-merge dibersihkan.${NC}\" âš™ï¸ Cara Pakai Simpan skrip di file clean-merged-branches.sh Jadikan executable: chmod +x clean-merged-branches.sh Jalankan di folder Git project: ./clean-merged-branches.sh Kamu juga bisa jalankan dengan opsi tambahan: --dry-run â†’ hanya tampilkan branch yang akan dihapus tanpa eksekusi --auto â†’ hapus langsung tanpa konfirmasi (cocok untuk CI/CD) Contoh: ./clean-merged-branches.sh --dry-run ./clean-merged-branches.sh --auto ğŸ’¡ Tips Aman Sebelum Bersih-Bersih Pastikan semua perubahan sudah di-merge ke main atau branch utama kamu. Gunakan --dry-run dulu untuk memastikan daftar yang aman. Backup branch penting dengan git push origin nama_branch sebelum hapus."
  },
  "meta": {
    "summary": "Skrip bash otomatis untuk menampilkan dan menghapus branch Git yang sudah di-merge, dengan opsi --dry-run dan --auto. Aman, interaktif, dan bisa bersihkan lokal & remote sekaligus.",
    "keywords": [],
    "topics": [],
    "prompt_hint": "Skrip bash otomatis untuk menampilkan dan menghapus branch Git yang sudah di-merge, dengan opsi --dry-run dan --auto. Aman, interaktif, dan bisa bersihkan lokal & remote sekaligus."
  }
}