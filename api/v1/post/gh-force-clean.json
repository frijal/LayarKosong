{
  "id": "gh-force-clean",
  "slug": "gh-force-clean",
  "title": "Skrip Otomatis gh-force-clean.sh: Bersihkan Branch Lokal & Remote yang Sudah Di-Merge",
  "category": "üñ•Ô∏è Teknologi Web, AI & Umum",
  "published_at": "2025-10-13T21:14:36.042+00:00",
  "url": "https://dalam.web.id/artikel/gh-force-clean.html",
  "image": "https://dalam.web.id/img/gh-force-clean.webp",
  "content": {
    "text": "Kalau kamu sering kerja di repo Git yang penuh branch lama, skrip ini bisa jadi solusi. Dengan gh-force-clean.sh, kamu bisa otomatis menghapus branch lokal dan remote yang sudah di-merge ke main (atau branch lain), tanpa repot periksa satu-satu. üöÄ Cocok buat developer yang ingin menjaga repo tetap bersih, atau buat pipeline CI/CD yang rapi. üß© Fitur Unggulan üîç Deteksi otomatis branch yang sudah di-merge ke branch utama üßπ Bersihkan branch lokal & remote sekaligus ‚öôÔ∏è Dukungan opsi --dry-run untuk simulasi ü§ñ Mode --auto untuk CI/CD tanpa konfirmasi üîß Bisa ganti branch utama pakai --base <nama_branch> üåà Output berwarna, mudah dibaca di terminal ‚öôÔ∏è Isi Skrip: gh-force-clean.sh #!/usr/bin/env bash set -euo pipefail RED='\\033[0;31m'; GREEN='\\033[0;32m'; YELLOW='\\033[1;33m'; CYAN='\\033[0;36m'; RESET='\\033[0m' DRY_RUN=false; AUTO=false; BASE_BRANCH=\"main\" usage() { echo \"Gunakan: $0 [--dry-run] [--auto] [--base ]\" exit 0 } while [[ $# -gt 0 ]]; do case \"$1\" in --dry-run) DRY_RUN=true; shift ;; --auto) AUTO=true; shift ;; --base) BASE_BRANCH=\"${2:-main}\"; shift 2 ;; -h|--help) usage ;; *) echo \"Argumen tidak dikenal: $1\"; usage ;; esac done echo -e \"${CYAN}üîç Mengecek branch utama: ${BASE_BRANCH}${RESET}\" git fetch -p origin >/dev/null 2>&1 git checkout \"$BASE_BRANCH\" >/dev/null 2>&1 || exit 1 MERGED_BRANCHES=$(git branch --merged \"$BASE_BRANCH\" | grep -vE \"^\\*|$BASE_BRANCH$\") REMOTE_MERGED=$(git branch -r --merged \"origin/$BASE_BRANCH\" | grep -vE \"origin/(HEAD|$BASE_BRANCH)$\") [[ -z \"$MERGED_BRANCHES\" ]] && echo \"Tidak ada branch lokal yang sudah di-merge\" [[ -z \"$REMOTE_MERGED\" ]] && echo \"Tidak ada branch remote yang sudah di-merge\" if [[ \"$DRY_RUN\" == true ]]; then echo \"[DRY RUN] Tidak ada branch dihapus.\" exit 0 fi if [[ \"$AUTO\" == false ]]; then read -rp \"Lanjut hapus semua branch yang sudah di-merge? [y/N]: \" CONFIRM [[ ! \"$CONFIRM\" =~ ^[Yy]$ ]] && { echo \"Dibatalkan.\"; exit 0; } fi for BR in $MERGED_BRANCHES; do git branch -d \"$BR\" >/dev/null 2>&1 || git branch -D \"$BR\" >/dev/null 2>&1 done for RB in $REMOTE_MERGED; do RB_NAME=$(echo \"$RB\" | sed 's|origin/||') git push origin --delete \"$RB_NAME\" >/dev/null 2>&1 || true done echo -e \"${GREEN}‚úÖ Pembersihan selesai.${RESET}\" üí° Cara Menggunakan chmod +x gh-force-clean.sh # Mode interaktif (manual) ./gh-force-clean.sh # Simulasi (hanya tampilkan tanpa hapus) ./gh-force-clean.sh --dry-run # Mode otomatis untuk CI/CD ./gh-force-clean.sh --auto # Jika repo kamu pakai branch utama \"develop\" ./gh-force-clean.sh --base develop üß† Tips Aman Selalu jalankan --dry-run dulu sebelum hapus sungguhan. Gunakan --auto hanya di pipeline atau repositori yang kamu kontrol penuh. Jika branch belum di-merge atau masih ada konflik, skrip ini tidak akan menghapusnya.",
    "html": "<section>\n    <p>Kalau kamu sering kerja di repo Git yang penuh branch lama, skrip ini bisa jadi solusi.\n    Dengan <strong>gh-force-clean.sh</strong>, kamu bisa otomatis menghapus branch lokal dan remote yang sudah di-merge ke <code>main</code> (atau branch lain), tanpa repot periksa satu-satu. üöÄ</p>\n    <p>Cocok buat developer yang ingin menjaga repo tetap bersih, atau buat pipeline CI/CD yang rapi.</p>\n  </section>\n  <section>\n    <h2>üß© Fitur Unggulan</h2>\n    <ul>\n      <li>üîç Deteksi otomatis branch yang sudah di-merge ke branch utama</li>\n      <li>üßπ Bersihkan branch lokal &amp; remote sekaligus</li>\n      <li>‚öôÔ∏è Dukungan opsi <code>--dry-run</code> untuk simulasi</li>\n      <li>ü§ñ Mode <code>--auto</code> untuk CI/CD tanpa konfirmasi</li>\n      <li>üîß Bisa ganti branch utama pakai <code>--base &lt;nama_branch&gt;</code></li>\n      <li>üåà Output berwarna, mudah dibaca di terminal</li>\n    </ul>\n  </section>\n  <section>\n    <h2>‚öôÔ∏è Isi Skrip: <code>gh-force-clean.sh</code></h2>\n    <pre><code>#!/usr/bin/env bash\nset -euo pipefail\nRED='\\033[0;31m'; GREEN='\\033[0;32m'; YELLOW='\\033[1;33m'; CYAN='\\033[0;36m'; RESET='\\033[0m'\nDRY_RUN=false; AUTO=false; BASE_BRANCH=\"main\"\nusage() {\n  echo \"Gunakan: $0 [--dry-run] [--auto] [--base <branch>]\"\n  exit 0\n}\nwhile [[ $# -gt 0 ]]; do\n  case \"$1\" in\n    --dry-run) DRY_RUN=true; shift ;;\n    --auto) AUTO=true; shift ;;\n    --base) BASE_BRANCH=\"${2:-main}\"; shift 2 ;;\n    -h|--help) usage ;;\n    *) echo \"Argumen tidak dikenal: $1\"; usage ;;\n  esac\ndone\necho -e \"${CYAN}üîç Mengecek branch utama: ${BASE_BRANCH}${RESET}\"\ngit fetch -p origin &gt;/dev/null 2&gt;&amp;1\ngit checkout \"$BASE_BRANCH\" &gt;/dev/null 2&gt;&amp;1 || exit 1\nMERGED_BRANCHES=$(git branch --merged \"$BASE_BRANCH\" | grep -vE \"^\\*|$BASE_BRANCH$\")\nREMOTE_MERGED=$(git branch -r --merged \"origin/$BASE_BRANCH\" | grep -vE \"origin/(HEAD|$BASE_BRANCH)$\")\n[[ -z \"$MERGED_BRANCHES\" ]] &amp;&amp; echo \"Tidak ada branch lokal yang sudah di-merge\"\n[[ -z \"$REMOTE_MERGED\" ]] &amp;&amp; echo \"Tidak ada branch remote yang sudah di-merge\"\nif [[ \"$DRY_RUN\" == true ]]; then\n  echo \"[DRY RUN] Tidak ada branch dihapus.\"\n  exit 0\nfi\nif [[ \"$AUTO\" == false ]]; then\n  read -rp \"Lanjut hapus semua branch yang sudah di-merge? [y/N]: \" CONFIRM\n  [[ ! \"$CONFIRM\" =~ ^[Yy]$ ]] &amp;&amp; { echo \"Dibatalkan.\"; exit 0; }\nfi\nfor BR in $MERGED_BRANCHES; do\n  git branch -d \"$BR\" &gt;/dev/null 2&gt;&amp;1 || git branch -D \"$BR\" &gt;/dev/null 2&gt;&amp;1\ndone\nfor RB in $REMOTE_MERGED; do\n  RB_NAME=$(echo \"$RB\" | sed 's|origin/||')\n  git push origin --delete \"$RB_NAME\" &gt;/dev/null 2&gt;&amp;1 || true\ndone\necho -e \"${GREEN}‚úÖ Pembersihan selesai.${RESET}\"</branch></code></pre>\n  </section>\n  <section>\n    <h2>üí° Cara Menggunakan</h2>\n    <pre><code>chmod +x gh-force-clean.sh\n# Mode interaktif (manual)\n./gh-force-clean.sh\n# Simulasi (hanya tampilkan tanpa hapus)\n./gh-force-clean.sh --dry-run\n# Mode otomatis untuk CI/CD\n./gh-force-clean.sh --auto\n# Jika repo kamu pakai branch utama \"develop\"\n./gh-force-clean.sh --base develop</code></pre>\n  </section>\n  <section>\n    <h2>üß† Tips Aman</h2>\n    <ul>\n      <li>Selalu jalankan <code>--dry-run</code> dulu sebelum hapus sungguhan.</li>\n      <li>Gunakan <code>--auto</code> hanya di pipeline atau repositori yang kamu kontrol penuh.</li>\n      <li>Jika branch belum di-merge atau masih ada konflik, skrip ini tidak akan menghapusnya.</li>\n    </ul>\n  </section>"
  },
  "meta": {
    "summary": "Panduan membuat skrip otomatis gh-force-clean.sh untuk membersihkan branch Git yang sudah di-merge, baik lokal maupun remote. Lengkap dengan opsi dry-run, auto, dan base branch.",
    "keywords": [],
    "topics": [],
    "prompt_hint": "Panduan membuat skrip otomatis gh-force-clean.sh untuk membersihkan branch Git yang sudah di-merge, baik lokal maupun remote. Lengkap dengan opsi dry-run, auto, dan base branch."
  }
}