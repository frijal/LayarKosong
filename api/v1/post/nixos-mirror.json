{
  "id": "nixos-mirror",
  "slug": "nixos-mirror",
  "title": "Skrip nixos-mirror.sh: Atur Mirror Tercepat untuk NixOS",
  "category": "ðŸ§ Linux & Open Source",
  "published_at": "2025-05-25T23:20:38.198+00:00",
  "url": "https://dalam.web.id/artikel/nixos-mirror.html",
  "image": "https://dalam.web.id/img/nixos-mirror.webp",
  "content": "âš¡ dalam.web.id Skrip nixos-mirror.sh: Atur Mirror Tercepat untuk NixOS NixOS menggunakan file nix.conf untuk mengatur substituter (mirror repositori). Dengan menambahkan mirror yang lebih cepat, kita bisa mempercepat proses seperti nix-env dan nixos-rebuild. Skrip ini akan mengotomatiskan proses tersebut. Peringatan Penting: Jalankan skrip ini dengan hak akses sudo karena akan mengubah file sistem di /etc/nix/nix.conf. Selain itu, pastikan Anda mengganti placeholder trusted-public-keys dengan kunci publik yang valid dari mirror yang Anda gunakan. Kode Skrip Skrip ini akan secara otomatis membuat backup dari file konfigurasi Anda yang ada, lalu menambahkan substituter baru. #!/bin/bash # nixos-mirror.sh â€” atur substituter mirror tercepat NixOS set -e CONF_FILE=\"/etc/nix/nix.conf\" BACKUP=\"/etc/nix/nix.conf.backup.$(date +%F)\" echo \"[INFO] Membackup konfigurasi lama ke $BACKUP ...\" sudo cp \"$CONF_FILE\" \"$BACKUP\" echo \"[INFO] Menambahkan substituter mirror...\" sudo tee -a \"$CONF_FILE\" >/dev/null <<'EOF' # Tambahan substituter mirror cepat substituters = https://cache.nixos.org https://mirror.sjtu.edu.cn/nix-channels/store trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= mirror.sjtu.edu.cn-1:PASTE_PUBLIC_KEY_HERE EOF echo \"[INFO] Update channel...\" nix-channel --update echo \"[DONE] Substituter NixOS berhasil ditambahkan. Silakan verifikasi file $CONF_FILE.\"Salin Cara Menggunakan Simpan skrip di atas sebagai file, misalnya nixos-mirror.sh. Temukan kunci publik yang benar untuk mirror yang ingin Anda tambahkan (misalnya, `mirror.sjtu.edu.cn`). Ganti `PASTE_PUBLIC_KEY_HERE` di dalam skrip dengan kunci yang valid. Berikan izin eksekusi pada skrip: chmod +x nixos-mirror.sh. Jalankan skrip dengan hak akses root: sudo ./nixos-mirror.sh. Setelah selesai, proses build dan update NixOS Anda seharusnya akan berjalan lebih cepat dengan memanfaatkan mirror tambahan tersebut.",
  "meta": {
    "summary": "Skrip untuk mengatur substituter (mirror) tercepat di NixOS guna mempercepat proses build dan update. Otomatis backup konfigurasi lama.",
    "keywords": [],
    "topics": [],
    "prompt_hint": "Skrip untuk mengatur substituter (mirror) tercepat di NixOS guna mempercepat proses build dan update. Otomatis backup konfigurasi lama."
  }
}