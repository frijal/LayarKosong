{
  "id": "kenapa-ada-folder-npm-cache",
  "slug": "kenapa-ada-folder-npm-cache",
  "title": "Kenapa Ada Folder .npm-cache/_cacache di Repo? Penyebab & Solusinya",
  "category": "üñ•Ô∏è Teknologi Web, AI & Umum",
  "published_at": "2025-10-26T04:42:20.890+00:00",
  "url": "https://dalam.web.id/artikel/kenapa-ada-folder-npm-cache.html",
  "image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhPvc5iFksppupuzAM-DFSDIXZ53mOZlJz8Bk6Ahq9F1GkWyhmPeggodkc5UVPgl3Bh8_0PekKMkesLseMaSJQJAD5oEq3qQrII8siwwrUwmkuS3RaqUpIKO0G0ILiPyp7jhjnVy4cOC5t-lvp-F3KJ8GTfuDM6LTwPWDQoslyk-6cKqwZywBQQzI2DR64/s1600/Screenshot%20From%202025-10-25%2021-56-54.png",
  "content": {
    "text": "Lho, Kok Ada Folder `.npm-cache/_cacache` di Repo? Oleh: Frijal ‚Ä¢ NPM, Git, CI/CD ‚Ä¢ Dipublikasikan: 25 Okt 2025 Pernah nggak sih, pas lagi kerja pakai Node.js, tiba-tiba muncul folder aneh bernama .npm-cache di root project kamu? Apalagi kalau pakai GitHub Actions, folder ini suka ikut ke-commit kalau nggak hati-hati. Tenang, ini bukan error kok. Yuk kita bahas kenapa bisa muncul dan gimana cara ngatasinnya! Penyebab Utama Folder .npm-cache/_cacache itu muncul karena npm secara default membuat cache lokal setiap kali kamu menjalankan npm install (atau perintah npm lain yang butuh download paket). Default npm cache: Biasanya, pas kamu npm install di laptop/komputer lokal, npm menyimpan paket yang diunduh ke folder cache global di sistem kamu (misalnya di ~/.npm di Linux/Mac atau %AppData%/npm-cache di Windows). Ini biar kalau kamu install paket yang sama di project lain, nggak perlu download ulang dari internet. Hemat waktu dan kuota! Kenapa muncul di repo? Nah, masalahnya muncul kalau: Di Runner GitHub Actions: Kalau workflow kamu menjalankan npm install tanpa mengatur lokasi cache khusus untuk Actions, npm bisa jadi membuat folder .npm-cache di dalam direktori kerja (yaitu di dalam repo yang di-checkout). Si runner kan nggak punya cache global permanen kayak laptop kita. Perintah Khusus atau Konfigurasi: Kadang (walau jarang), ada script build, konfigurasi environment variable (NPM_CONFIG_CACHE), atau file .npmrc di project kamu yang secara eksplisit mengarahkan lokasi cache npm ke folder .npm-cache di root repo. Akibatnya, cache jadi tersimpan di situ deh. Ikut Ter-commit: Karena folder ini dibuat di dalam direktori kerja repo kamu, kalau nggak ada aturan di file .gitignore untuk mengabaikannya, ya otomatis Git akan menganggapnya sebagai file baru atau perubahan yang perlu di-commit. Jadilah dia nongol di Pull Request atau commit history. Isi folder _cacache itu sebenarnya cuma data temporary hasil download paket. Nggak ada gunanya ikut disimpan ke Git repo kamu. Malah bikin repo jadi gendut dan proses clone/checkout jadi lama. Solusi Biar Gak Muncul Lagi Untungnya, solusinya gampang banget. Ada beberapa cara: 1. Abaikan Folder Cache di Git Ini cara paling dasar dan wajib dilakukan. Tambahkan baris berikut ke file .gitignore di root project kamu: # NPM cache .npm-cache/ npm-debug.log* yarn-debug.log* yarn-error.log* Dengan ini, Git akan cuek bebek sama folder .npm-cache dan isinya. Dia nggak akan muncul lagi di status Git atau ikut ter-commit. 2. Gunakan Cache Bawaan GitHub Actions Kalau masalahnya muncul spesifik di workflow GitHub Actions, cara terbaik adalah pakai fitur cache bawaan dari action actions/setup-node. Ini lebih efisien karena cache-nya disimpan di infrastruktur GitHub, bukan di dalam repo kita. Caranya gampang, cukup tambahkan opsi cache: 'npm' di step setup Node: - name: Setup Node.js uses: actions/setup-node@v4 with: node-version: 20 cache: 'npm' # <-- Tambahkan ini! Dengan begini, actions/setup-node akan otomatis mengurus caching node_modules dan cache npm global di runner. Folder .npm-cache kemungkinan besar nggak akan dibuat lagi di direktori kerja repo kamu. 3. Atur Lokasi Cache Secara Eksplisit (Kalau Perlu) Kalau kamu punya alasan khusus untuk *tetap* pakai cache manual (misalnya di environment build yang lain, bukan Actions), kamu bisa paksa npm untuk menyimpan cache-nya di lokasi lain di luar repo. Misalnya, arahkan ke folder home runner (yang biasanya aman): # Set lokasi cache npm ke ~/.npm secara global di runner npm config set cache ~/.npm --global # Baru jalankan install npm install Perintah ini memberitahu npm, \"Hei, simpan cache-nya di folder .npm di home direktori ya, jangan di tempat lain!\" Jadi Singkatnya... Folder .npm-cache/_cacache itu muncul karena npm menyimpan cache hasil download paket di dalam repo kamu (seringnya karena setup di CI/CD seperti GitHub Actions). Folder ini **nggak penting dan nggak perlu ikut masuk ke repo Git**. Solusi paling gampang dan direkomendasikan: Tambahkan .npm-cache/ ke .gitignore kamu. (Wajib!) Kalau pakai GitHub Actions, gunakan cache: 'npm' di actions/setup-node. Dengan begitu, repo kamu tetap bersih dan workflow CI/CD kamu bisa lebih cepat karena memanfaatkan cache yang benar. üëç",
    "html": "<div class=\"cover\" title=\"Folder .npm-cache di dalam struktur direktori\">\n                <img src=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhPvc5iFksppupuzAM-DFSDIXZ53mOZlJz8Bk6Ahq9F1GkWyhmPeggodkc5UVPgl3Bh8_0PekKMkesLseMaSJQJAD5oEq3qQrII8siwwrUwmkuS3RaqUpIKO0G0ILiPyp7jhjnVy4cOC5t-lvp-F3KJ8GTfuDM6LTwPWDQoslyk-6cKqwZywBQQzI2DR64/s1600/Screenshot%20From%202025-10-25%2021-56-54.png\" alt=\"Screenshot menunjukkan folder .npm-cache/_cacache dalam file explorer\">\n            </div>\n            <div class=\"content\">\n                <h1 class=\"title\">Lho, Kok Ada Folder `.npm-cache/_cacache` di Repo?</h1>\n\n                <div class=\"meta\">\n                    <span>Oleh: Frijal</span> ‚Ä¢\n                    <span>NPM, Git, CI/CD</span> ‚Ä¢\n                    <span>Dipublikasikan: 25 Okt 2025</span>\n                </div>\n\n                <p>Pernah nggak sih, pas lagi kerja pakai Node.js, tiba-tiba muncul folder aneh bernama <code class=\"kbd\">.npm-cache</code> di root project kamu? Apalagi kalau pakai GitHub Actions, folder ini suka ikut ke-commit kalau nggak hati-hati. Tenang, ini bukan error kok. Yuk kita bahas kenapa bisa muncul dan gimana cara ngatasinnya!</p>\n\n                <div class=\"section\">\n                    <h2><i class=\"fas fa-search\"></i>Penyebab Utama</h2>\n                    <p>Folder <code class=\"kbd\">.npm-cache/_cacache</code> itu muncul karena <strong>npm secara default membuat cache lokal</strong> setiap kali kamu menjalankan <code class=\"kbd\">npm install</code> (atau perintah npm lain yang butuh download paket).</p>\n                    <ul>\n                        <li>\n                            <strong>Default npm cache:</strong> Biasanya, pas kamu <code class=\"kbd\">npm install</code> di laptop/komputer lokal, npm menyimpan paket yang diunduh ke folder cache global di sistem kamu (misalnya di <code class=\"kbd\">~/.npm</code> di Linux/Mac atau <code class=\"kbd\">%AppData%/npm-cache</code> di Windows). Ini biar kalau kamu install paket yang sama di project lain, nggak perlu download ulang dari internet. Hemat waktu dan kuota!\n                        </li>\n                        <li>\n                            <strong>Kenapa muncul di repo?</strong> Nah, masalahnya muncul kalau:\n                            <ul>\n                                <li><strong>Di Runner GitHub Actions:</strong> Kalau workflow kamu menjalankan <code class=\"kbd\">npm install</code> tanpa mengatur lokasi cache khusus untuk Actions, npm bisa jadi membuat folder <code class=\"kbd\">.npm-cache</code> di dalam direktori kerja (yaitu di dalam repo yang di-checkout). Si runner kan nggak punya cache global permanen kayak laptop kita.</li>\n                                <li><strong>Perintah Khusus atau Konfigurasi:</strong> Kadang (walau jarang), ada script build, konfigurasi environment variable (<code class=\"kbd\">NPM_CONFIG_CACHE</code>), atau file <code class=\"kbd\">.npmrc</code> di project kamu yang secara eksplisit mengarahkan lokasi cache npm ke folder <code class=\"kbd\">.npm-cache</code> di root repo. Akibatnya, cache jadi tersimpan di situ deh.</li>\n                            </ul>\n                        </li>\n                        <li>\n                            <strong>Ikut Ter-commit:</strong> Karena folder ini dibuat di dalam direktori kerja repo kamu, kalau nggak ada aturan di file <code class=\"kbd\">.gitignore</code> untuk mengabaikannya, ya otomatis Git akan menganggapnya sebagai file baru atau perubahan yang perlu di-commit. Jadilah dia nongol di Pull Request atau commit history.\n                        </li>\n                    </ul>\n                     <div class=\"tip\">\n                         <svg viewBox=\"0 0 24 24\" fill=\"none\" width=\"20\" height=\"20\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\">\n                             <circle cx=\"12\" cy=\"12\" r=\"9\"></circle><path d=\"M12 7v6M12 16h.01\"></path>\n                         </svg>\n                         <div>Isi folder <code class=\"kbd\">_cacache</code> itu sebenarnya cuma data temporary hasil download paket. Nggak ada gunanya ikut disimpan ke Git repo kamu. Malah bikin repo jadi gendut dan proses clone/checkout jadi lama.</div>\n                     </div>\n                </div>\n\n                <div class=\"section\">\n                    <h2><i class=\"fas fa-check-circle\"></i>Solusi Biar Gak Muncul Lagi</h2>\n                    <p>Untungnya, solusinya gampang banget. Ada beberapa cara:</p>\n\n                    <h3>1. Abaikan Folder Cache di Git <i class=\"fab fa-git-alt\"></i></h3>\n                    <p>Ini cara paling dasar dan wajib dilakukan. Tambahkan baris berikut ke file <code class=\"kbd\">.gitignore</code> di root project kamu:</p>\n                    <pre><code class=\"language-ignore\"># NPM cache\n.npm-cache/\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n</code></pre>\n                    <p>Dengan ini, Git akan cuek bebek sama folder <code class=\"kbd\">.npm-cache</code> dan isinya. Dia nggak akan muncul lagi di status Git atau ikut ter-commit.</p>\n\n                    <h3>2. Gunakan Cache Bawaan GitHub Actions <i class=\"fab fa-github\"></i></h3>\n                    <p>Kalau masalahnya muncul spesifik di workflow GitHub Actions, cara terbaik adalah pakai fitur cache bawaan dari action <code class=\"kbd\">actions/setup-node</code>. Ini lebih efisien karena cache-nya disimpan di infrastruktur GitHub, bukan di dalam repo kita.</p>\n                    <p>Caranya gampang, cukup tambahkan opsi <code class=\"kbd\">cache: 'npm'</code> di step setup Node:</p>\n                    <pre><code class=\"language-yaml\">- name: Setup Node.js\n  uses: actions/setup-node@v4\n  with:\n    node-version: 20\n    cache: 'npm' # &lt;-- Tambahkan ini!\n</code></pre>\n                    <p>Dengan begini, <code class=\"kbd\">actions/setup-node</code> akan otomatis mengurus caching <code class=\"kbd\">node_modules</code> dan cache npm global di runner. Folder <code class=\"kbd\">.npm-cache</code> kemungkinan besar nggak akan dibuat lagi di direktori kerja repo kamu.</p>\n\n                    <h3>3. Atur Lokasi Cache Secara Eksplisit (Kalau Perlu) <i class=\"fas fa-wrench\"></i></h3>\n                    <p>Kalau kamu punya alasan khusus untuk *tetap* pakai cache manual (misalnya di environment build yang lain, bukan Actions), kamu bisa paksa npm untuk menyimpan cache-nya di lokasi lain di luar repo. Misalnya, arahkan ke folder home runner (yang biasanya aman):</p>\n                    <pre><code class=\"language-bash\"># Set lokasi cache npm ke ~/.npm secara global di runner\nnpm config set cache ~/.npm --global\n\n# Baru jalankan install\nnpm install\n</code></pre>\n                    <p>Perintah ini memberitahu npm, \"Hei, simpan cache-nya di folder <code class=\"kbd\">.npm</code> di home direktori ya, jangan di tempat lain!\"</p>\n                </div>\n\n                 <div class=\"section\">\n                    <h2><i class=\"fas fa-thumbs-up\"></i>Jadi Singkatnya...</h2>\n                    <p>Folder <code class=\"kbd\">.npm-cache/_cacache</code> itu muncul karena npm menyimpan cache hasil download paket di dalam repo kamu (seringnya karena setup di CI/CD seperti GitHub Actions). Folder ini **nggak penting dan nggak perlu ikut masuk ke repo Git**.</p>\n                    <p>Solusi paling gampang dan direkomendasikan:</p>\n                    <ol>\n                        <li><strong>Tambahkan <code class=\"kbd\">.npm-cache/</code> ke <code class=\"kbd\">.gitignore</code> kamu.</strong> (Wajib!)</li>\n                        <li>Kalau pakai GitHub Actions, <strong>gunakan <code class=\"kbd\">cache: 'npm'</code> di <code class=\"kbd\">actions/setup-node</code>.</strong></li>\n                    </ol>\n                    <p>Dengan begitu, repo kamu tetap bersih dan workflow CI/CD kamu bisa lebih cepat karena memanfaatkan cache yang benar. üëç</p>\n                </div>\n\n\n            </div>"
  },
  "meta": {
    "summary": "Penjelasan kenapa folder .npm-cache/_cacache muncul di repo Git kamu saat pakai npm install, terutama di GitHub Actions. Plus solusi cara mengabaikannya atau pakai cache Actions.",
    "prompt_hint": "Penjelasan kenapa folder .npm-cache/_cacache muncul di repo Git kamu saat pakai npm install, terutama di GitHub Actions. Plus solusi cara mengabaikannya atau pakai cache Actions.",
    "keywords": [],
    "topics": []
  }
}