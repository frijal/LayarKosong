{
  "id": "panduan-automasi-pr-github-peter-evans",
  "slug": "panduan-automasi-pr-github-peter-evans",
  "title": "Panduan Lengkap Automasi PR: Peter Evans vs GitHub CLI - Dalam Web ID",
  "category": "üñ•Ô∏è Teknologi Web, AI & Umum",
  "published_at": "2025-12-17T01:17:01.344+00:00",
  "url": "https://dalam.web.id/artikel/panduan-automasi-pr-github-peter-evans.html",
  "image": "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgndzCF9GmOSAcdhgQAeLWjrVz3oSwhukLrbVd8Tzo1EvBDMyE1J8-X1L29UfqlM1VJZCudMzD6JChvYOAiUa4HQnzJO_277-h_yVrK_5XQ2rsruSVdon2FPLn8B8SPt_n62ZrE40ypYxf9E56uBZszHUvqG7Tsvfz7lpujbpq4wfuzC4AqNRM_VflaumQ/s1600/GH-CLI.webp",
  "content": {
    "text": "Perbandingan Kontras & Error Handling PR Gimana sih bedanya bikin PR pake cara \"instan\" vs cara \"manual\"? Kamu mungkin sering melihat potongan workflow ini di berbagai repositori open source: name: üì® Buat Pull Request if: steps.check_changes.outputs.changes_detected == 'true' uses: peter-evans/create-pull-request@v6 Pertanyaannya: Kenapa harus pake action third-party ini? GitHub kan punya fitur internal (CLI), masa nggak bisa bikin PR otomatis dengan gampang? Head-to-Head Comparison Mari kita bandingkan kodenya secara berdampingan untuk mencapai hasil yang sama: **Deteksi perubahan, commit, push, dan create PR.** Cara Peter Evans Efisien - name: üì® Create Pull Request uses: peter-evans/create-pull-request@v6 with: branch: auto-update title: 'chore: update assets' body: 'Otomatis diupdate oleh bot' labels: automated reviewers: frijal Deteksi perubahan otomatis. Handle update PR lama (idempotent). Gak perlu setting user git config. Cara Manual (GitHub CLI) Ribet - name: Manual PR via CLI run: | git config user.name \"github-actions[bot]\" git config user.email \"github-actions@github.com\" git add . if [[ -n \"$(git status --porcelain)\" ]]; then git commit -m \"Auto update\" git push origin HEAD:auto-update-manual gh pr create --title \"Update\" --body \"Otomatis\" else echo \"No changes\" fi env: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} Harus handle error \"PR already exists\". Harus config identitas git manual. Logika bash gampang pecah. Mengapa Third-Party Tetap Menang? GitHub memang nggak punya official built-in action khusus buat one-step PR. Kalau kamu pake cara manual, kamu bakal pusing waktu harus mengecek: \"Eh, ini PR-nya udah ada belum ya? Kalau udah ada, jangan bikin baru, tapi timpa yang lama.\" Simulasi: Saat Token Kadaluarsa Apa jadinya kalau bot ini gagal kerja? Misalnya saat GITHUB_TOKEN kamu kedaluwarsa atau izinnya tiba-tiba dicabut. FAILED Skenario: 403 - Resource not accessible Apa yang terjadi? Saat bot mencoba melakukan push atau membuat PR, GitHub API akan menolak permintaan tersebut. Log Action: Error: HttpError: Resource not accessible by integration Workflow Status: Berubah jadi merah (Failed). Notifikasi: Kamu akan dapat email peringatan kegagalan workflow. Gimana Bot Menanganinya? Berbeda dengan script manual yang mungkin berhenti di tengah jalan dan meninggalkan junk branch, bot peter-evans menangani error secara elegan dengan Atomic Operation: Jika dia gagal di tahap pembuatan PR, dia tidak akan meninggalkan commit yang berantakan atau mencoba membanjiri API dengan request berulang. Solusi: Jika token kadaluarsa atau error 403 muncul, pastikan bagian permissions: contents: write dan pull-requests: write sudah ada di file YAML kamu. Gimana menurutmu? Lebih milih nulis script Bash manual atau pake robot yang udah jadi?",
    "html": "<h1><i class=\"fa-solid fa-code-compare\"></i> Perbandingan Kontras &amp; Error Handling PR</h1>\n<div id=\"iposbrowser\"></div>\n\n    <p>Gimana sih bedanya bikin PR pake cara \"instan\" vs cara \"manual\"? Kamu mungkin sering melihat potongan workflow ini di berbagai repositori open source:</p>\n\n    <pre><code class=\"language-yaml\">name: üì® Buat Pull Request\nif: steps.check_changes.outputs.changes_detected == 'true'\nuses: peter-evans/create-pull-request@v6</code></pre>\n\n    <p>Pertanyaannya: <strong>Kenapa harus pake action third-party ini? GitHub kan punya fitur internal (CLI), masa nggak bisa bikin PR otomatis dengan gampang?</strong></p>\n\n    <img src=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgndzCF9GmOSAcdhgQAeLWjrVz3oSwhukLrbVd8Tzo1EvBDMyE1J8-X1L29UfqlM1VJZCudMzD6JChvYOAiUa4HQnzJO_277-h_yVrK_5XQ2rsruSVdon2FPLn8B8SPt_n62ZrE40ypYxf9E56uBZszHUvqG7Tsvfz7lpujbpq4wfuzC4AqNRM_VflaumQ/s1600/GH-CLI.webp\" alt=\"GitHub Actions Flow\" class=\"main-image\">\n\n\n\n    <h2><i class=\"fa-solid fa-bolt\"></i> Head-to-Head Comparison</h2>\n    <p>Mari kita bandingkan kodenya secara berdampingan untuk mencapai hasil yang sama: **Deteksi perubahan, commit, push, dan create PR.**</p>\n\n    <div class=\"comparison-grid\">\n        <div class=\"comp-card\">\n            <div class=\"comp-header\">\n                <i class=\"fa-solid fa-wand-magic-sparkles\"></i> Cara Peter Evans <span class=\"tag-pro\">Efisien</span>\n            </div>\n<pre><code class=\"language-yaml\">- name: üì® Create Pull Request\n  uses: peter-evans/create-pull-request@v6\n  with:\n    branch: auto-update\n    title: 'chore: update assets'\n    body: 'Otomatis diupdate oleh bot'\n    labels: automated\n    reviewers: frijal</code></pre>\n            <div style=\"padding: 15px; font-size: 0.85rem; border-top: 1px solid var(--border-color);\">\n                <i class=\"fa-solid fa-check text-success\"></i> Deteksi perubahan otomatis.<br>\n                <i class=\"fa-solid fa-check text-success\"></i> Handle update PR lama (idempotent).<br>\n                <i class=\"fa-solid fa-check text-success\"></i> Gak perlu setting user git config.\n            </div>\n        </div>\n\n        <div class=\"comp-card\">\n            <div class=\"comp-header\">\n                <i class=\"fa-solid fa-terminal\"></i> Cara Manual (GitHub CLI) <span class=\"tag-con\">Ribet</span>\n            </div>\n<pre><code class=\"language-yaml\">- name: Manual PR via CLI\n  run: |\n    git config user.name \"github-actions[bot]\"\n    git config user.email \"github-actions@github.com\"\n    git add .\n    if [[ -n \"$(git status --porcelain)\" ]]; then\n      git commit -m \"Auto update\"\n      git push origin HEAD:auto-update-manual\n      gh pr create --title \"Update\" --body \"Otomatis\"\n    else\n      echo \"No changes\"\n    fi\n  env:\n    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}</code></pre>\n            <div style=\"padding: 15px; font-size: 0.85rem; border-top: 1px solid var(--border-color);\">\n                <i class=\"fa-solid fa-xmark text-danger\"></i> Harus handle error \"PR already exists\".<br>\n                <i class=\"fa-solid fa-xmark text-danger\"></i> Harus config identitas git manual.<br>\n                <i class=\"fa-solid fa-xmark text-danger\"></i> Logika bash gampang pecah.\n            </div>\n        </div>\n    </div>\n\n    <h3>Mengapa Third-Party Tetap Menang?</h3>\n    <p>GitHub memang nggak punya <strong>official built-in action</strong> khusus buat <em>one-step PR</em>. Kalau kamu pake cara manual, kamu bakal pusing waktu harus mengecek: <em>\"Eh, ini PR-nya udah ada belum ya? Kalau udah ada, jangan bikin baru, tapi timpa yang lama.\"</em></p>\n\n    <h2><i class=\"fa-solid fa-bug\"></i> Simulasi: Saat Token Kadaluarsa</h2>\n    <p>Apa jadinya kalau bot ini gagal kerja? Misalnya saat <span style=\"font-family: monospace;\">GITHUB_TOKEN</span> kamu kedaluwarsa atau izinnya tiba-tiba dicabut.</p>\n\n    <div class=\"error-simulation\">\n        <span class=\"status-badge status-failed\">FAILED</span>\n        <h3><i class=\"fa-solid fa-triangle-exclamation\"></i> Skenario: 403 - Resource not accessible</h3>\n        <p><strong>Apa yang terjadi?</strong> Saat bot mencoba melakukan <em>push</em> atau membuat PR, GitHub API akan menolak permintaan tersebut.</p>\n\n        <ul style=\"list-style: none; margin-top: 15px;\">\n            <li><i class=\"fa-solid fa-circle-xmark\"></i> <strong>Log Action:</strong> <code style=\"background: rgba(0,0,0,0.1); padding: 2px 5px;\">Error: HttpError: Resource not accessible by integration</code></li>\n            <li><i class=\"fa-solid fa-circle-xmark\"></i> <strong>Workflow Status:</strong> Berubah jadi merah (Failed).</li>\n            <li><i class=\"fa-solid fa-circle-xmark\"></i> <strong>Notifikasi:</strong> Kamu akan dapat email peringatan kegagalan workflow.</li>\n        </ul>\n    </div>\n\n    <h3>Gimana Bot Menanganinya?</h3>\n    <p>Berbeda dengan script manual yang mungkin berhenti di tengah jalan dan meninggalkan <em>junk branch</em>, bot <strong>peter-evans</strong> menangani error secara elegan dengan <strong>Atomic Operation</strong>: Jika dia gagal di tahap pembuatan PR, dia tidak akan meninggalkan commit yang berantakan atau mencoba membanjiri API dengan request berulang.</p>\n\n    <blockquote>\n        <i class=\"fa-solid fa-lightbulb\"></i> <strong>Solusi:</strong> Jika token kadaluarsa atau error 403 muncul, pastikan bagian <span style=\"font-family: monospace;\">permissions: contents: write</span> dan <span style=\"font-family: monospace;\">pull-requests: write</span> sudah ada di file YAML kamu.\n    </blockquote>\n<p><i class=\"fa-solid fa-comments fa-2x\"></i> Gimana menurutmu? Lebih milih nulis script Bash manual atau pake robot yang udah jadi?</p>\n    <div id=\"pesbukdiskus\"></div>"
  },
  "meta": {
    "summary": "Perbandingan mendalam automasi Pull Request menggunakan peter-evans dan GitHub CLI, lengkap dengan simulasi error handling di GitHub Actions.",
    "keywords": [],
    "topics": [],
    "prompt_hint": "Perbandingan mendalam automasi Pull Request menggunakan peter-evans dan GitHub CLI, lengkap dengan simulasi error handling di GitHub Actions."
  }
}